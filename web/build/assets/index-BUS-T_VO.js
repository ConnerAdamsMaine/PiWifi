var jl=Object.defineProperty;var Sl=(s,e,t)=>e in s?jl(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t;var Qe=(s,e,t)=>Sl(s,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))l(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const r of a.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&l(r)}).observe(document,{childList:!0,subtree:!0});function t(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function l(i){if(i.ep)return;i.ep=!0;const a=t(i);fetch(i.href,a)}})();function ee(){}function bl(s){return s()}function lt(){return Object.create(null)}function me(s){s.forEach(bl)}function gl(s){return typeof s=="function"}function ge(s,e){return s!=s?e==e:s!==e||s&&typeof s=="object"||typeof s=="function"}function zl(s){return Object.keys(s).length===0}function n(s,e){s.appendChild(e)}function L(s,e,t){s.insertBefore(e,t||null)}function T(s){s.parentNode&&s.parentNode.removeChild(s)}function ql(s,e){for(let t=0;t<s.length;t+=1)s[t]&&s[t].d(e)}function c(s){return document.createElement(s)}function A(s){return document.createTextNode(s)}function b(){return A(" ")}function kl(){return A("")}function R(s,e,t,l){return s.addEventListener(e,t,l),()=>s.removeEventListener(e,t,l)}function wl(s){return function(e){return e.preventDefault(),s.call(this,e)}}function Pl(s){return function(e){return e.stopPropagation(),s.call(this,e)}}function o(s,e,t){t==null?s.removeAttribute(e):s.getAttribute(e)!==t&&s.setAttribute(e,t)}function He(s){return s===""?null:+s}function Tl(s){return Array.from(s.childNodes)}function N(s,e){e=""+e,s.data!==e&&(s.data=e)}function te(s,e){s.value=e??""}function De(s,e,t,l){t==null?s.style.removeProperty(e):s.style.setProperty(e,t,"")}function Ne(s,e,t){for(let l=0;l<s.options.length;l+=1){const i=s.options[l];if(i.__value===e){i.selected=!0;return}}(!t||e!==void 0)&&(s.selectedIndex=-1)}function Ge(s){const e=s.querySelector(":checked");return e&&e.__value}function ne(s,e,t){s.classList.toggle(e,!!t)}function Al(s,e,{bubbles:t=!1,cancelable:l=!1}={}){return new CustomEvent(s,{detail:e,bubbles:t,cancelable:l})}let Je;function Ue(s){Je=s}function yl(){if(!Je)throw new Error("Function called outside component initialization");return Je}function Ae(s){yl().$$.on_mount.push(s)}function We(){const s=yl();return(e,t,{cancelable:l=!1}={})=>{const i=s.$$.callbacks[e];if(i){const a=Al(e,t,{cancelable:l});return i.slice().forEach(r=>{r.call(s,a)}),!a.defaultPrevented}return!0}}function Ll(s,e){const t=s.$$.callbacks[e.type];t&&t.slice().forEach(l=>l.call(this,e))}const Ee=[],Ke=[];let Oe=[];const st=[],Dl=Promise.resolve();let $e=!1;function Nl(){$e||($e=!0,Dl.then(Cl))}function Be(s){Oe.push(s)}const Ze=new Set;let Fe=0;function Cl(){if(Fe!==0)return;const s=Je;do{try{for(;Fe<Ee.length;){const e=Ee[Fe];Fe++,Ue(e),Rl(e.$$)}}catch(e){throw Ee.length=0,Fe=0,e}for(Ue(null),Ee.length=0,Fe=0;Ke.length;)Ke.pop()();for(let e=0;e<Oe.length;e+=1){const t=Oe[e];Ze.has(t)||(Ze.add(t),t())}Oe.length=0}while(Ee.length);for(;st.length;)st.pop()();$e=!1,Ze.clear(),Ue(s)}function Rl(s){if(s.fragment!==null){s.update(),me(s.before_update);const e=s.dirty;s.dirty=[-1],s.fragment&&s.fragment.p(s.ctx,e),s.after_update.forEach(Be)}}function Ml(s){const e=[],t=[];Oe.forEach(l=>s.indexOf(l)===-1?e.push(l):t.push(l)),t.forEach(l=>l()),Oe=e}const Ve=new Set;let Me;function xe(){Me={r:0,c:[],p:Me}}function et(){Me.r||me(Me.c),Me=Me.p}function ce(s,e){s&&s.i&&(Ve.delete(s),s.i(e))}function he(s,e,t,l){if(s&&s.o){if(Ve.has(s))return;Ve.add(s),Me.c.push(()=>{Ve.delete(s),l&&(t&&s.d(1),l())}),s.o(e)}else l&&l()}function ue(s){return(s==null?void 0:s.length)!==void 0?s:Array.from(s)}function Pe(s,e){s.d(1),e.delete(s.key)}function Te(s,e,t,l,i,a,r,f,d,u,p,m){let v=s.length,k=a.length,_=v;const h={};for(;_--;)h[s[_].key]=_;const g=[],w=new Map,q=new Map,y=[];for(_=k;_--;){const z=m(i,a,_),P=t(z);let M=r.get(P);M?y.push(()=>M.p(z,e)):(M=u(P,z),M.c()),w.set(P,g[_]=M),P in h&&q.set(P,Math.abs(_-h[P]))}const S=new Set,j=new Set;function C(z){ce(z,1),z.m(f,p),r.set(z.key,z),p=z.first,k--}for(;v&&k;){const z=g[k-1],P=s[v-1],M=z.key,B=P.key;z===P?(p=z.first,v--,k--):w.has(B)?!r.has(M)||S.has(M)?C(z):j.has(B)?v--:q.get(M)>q.get(B)?(j.add(M),C(z)):(S.add(B),v--):(d(P,r),v--)}for(;v--;){const z=s[v];w.has(z.key)||d(z,r)}for(;k;)C(g[k-1]);return me(y),g}function je(s){s&&s.c()}function ke(s,e,t){const{fragment:l,after_update:i}=s.$$;l&&l.m(e,t),Be(()=>{const a=s.$$.on_mount.map(bl).filter(gl);s.$$.on_destroy?s.$$.on_destroy.push(...a):me(a),s.$$.on_mount=[]}),i.forEach(Be)}function we(s,e){const t=s.$$;t.fragment!==null&&(Ml(t.after_update),me(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function Bl(s,e){s.$$.dirty[0]===-1&&(Ee.push(s),Nl(),s.$$.dirty.fill(0)),s.$$.dirty[e/31|0]|=1<<e%31}function ye(s,e,t,l,i,a,r=null,f=[-1]){const d=Je;Ue(s);const u=s.$$={fragment:null,ctx:[],props:a,update:ee,not_equal:i,bound:lt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(d?d.$$.context:[])),callbacks:lt(),dirty:f,skip_bound:!1,root:e.target||d.$$.root};r&&r(u.root);let p=!1;if(u.ctx=t?t(s,e.props||{},(m,v,...k)=>{const _=k.length?k[0]:v;return u.ctx&&i(u.ctx[m],u.ctx[m]=_)&&(!u.skip_bound&&u.bound[m]&&u.bound[m](_),p&&Bl(s,m)),v}):[],u.update(),p=!0,me(u.before_update),u.fragment=l?l(u.ctx):!1,e.target){if(e.hydrate){const m=Tl(e.target);u.fragment&&u.fragment.l(m),m.forEach(T)}else u.fragment&&u.fragment.c();e.intro&&ce(s.$$.fragment),ke(s,e.target,e.anchor),Cl()}Ue(d)}class Ce{constructor(){Qe(this,"$$");Qe(this,"$$set")}$destroy(){we(this,1),this.$destroy=ee}$on(e,t){if(!gl(t))return ee;const l=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return l.push(t),()=>{const i=l.indexOf(t);i!==-1&&l.splice(i,1)}}$set(e){this.$$set&&!zl(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Fl="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Fl);function nt(s){let e,t;return{c(){e=c("div"),t=A(s[2]),o(e,"class","error svelte-4s0hg7")},m(l,i){L(l,e,i),n(e,t)},p(l,i){i&4&&N(t,l[2])},d(l){l&&T(e)}}}function Il(s){let e,t,l,i,a,r,f,d,u,p,m,v,k,_,h,g=s[3]?"Logging in...":"Login",w,q,y,S,j,C=s[2]&&nt(s);return{c(){e=c("div"),t=c("div"),l=c("div"),l.textContent="üîå",i=b(),a=c("h1"),a.textContent="PiWifi",r=b(),f=c("p"),f.textContent="WiFi Router Control Panel",d=b(),u=c("form"),p=c("input"),m=b(),v=c("input"),k=b(),C&&C.c(),_=b(),h=c("button"),w=A(g),q=b(),y=c("p"),y.textContent="Default: admin / piwifi",o(l,"class","logo svelte-4s0hg7"),o(a,"class","svelte-4s0hg7"),o(f,"class","subtitle svelte-4s0hg7"),o(p,"type","text"),o(p,"placeholder","Username"),p.disabled=s[3],o(p,"autocomplete","username"),o(p,"class","svelte-4s0hg7"),o(v,"type","password"),o(v,"placeholder","Password"),v.disabled=s[3],o(v,"autocomplete","current-password"),o(v,"class","svelte-4s0hg7"),o(h,"type","submit"),h.disabled=s[3],o(h,"class","svelte-4s0hg7"),o(u,"class","svelte-4s0hg7"),o(y,"class","hint svelte-4s0hg7"),o(t,"class","login-card svelte-4s0hg7"),o(e,"class","login-container svelte-4s0hg7")},m(z,P){L(z,e,P),n(e,t),n(t,l),n(t,i),n(t,a),n(t,r),n(t,f),n(t,d),n(t,u),n(u,p),te(p,s[0]),n(u,m),n(u,v),te(v,s[1]),n(u,k),C&&C.m(u,null),n(u,_),n(u,h),n(h,w),n(t,q),n(t,y),S||(j=[R(p,"input",s[6]),R(p,"keydown",s[5]),R(v,"input",s[7]),R(v,"keydown",s[5]),R(u,"submit",wl(s[4]))],S=!0)},p(z,[P]){P&8&&(p.disabled=z[3]),P&1&&p.value!==z[0]&&te(p,z[0]),P&8&&(v.disabled=z[3]),P&2&&v.value!==z[1]&&te(v,z[1]),z[2]?C?C.p(z,P):(C=nt(z),C.c(),C.m(u,_)):C&&(C.d(1),C=null),P&8&&g!==(g=z[3]?"Logging in...":"Login")&&N(w,g),P&8&&(h.disabled=z[3])},i:ee,o:ee,d(z){z&&T(e),C&&C.d(),S=!1,me(j)}}}function El(s,e,t){const l=We();let i="admin",a="",r="",f=!1;async function d(){t(2,r=""),t(3,f=!0);try{const v=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:i,password:a})}),k=await v.json();if(!v.ok){t(2,r=k.error||"Login failed");return}l("login",{token:k.data.access_token})}catch(v){t(2,r=v.message||"Connection failed")}finally{t(3,f=!1)}}function u(v){v.key==="Enter"&&d()}function p(){i=this.value,t(0,i)}function m(){a=this.value,t(1,a)}return[i,a,r,f,d,u,p,m]}class Ol extends Ce{constructor(e){super(),ye(this,e,El,Il,ge,{})}}function Hl(s){let e,t,l,i,a,r=s[0].connected_clients+"",f,d,u,p,m,v,k,_,h=s[0].wifi_signal+"",g,w,q,y,S,j,C,z,P,M=s[0].cpu_temp.toFixed(1)+"",B,D,W,G,H,E,V,U,J,F=s[0].ram_usage+"",O,X,K,I,$,Y,oe,fe,se,de=s[0].uptime+"",_e,be,Z,ie,ve,re=s[1]?"...":"‚Üª",ae,qe,Se;return{c(){e=c("div"),t=c("div"),l=c("div"),l.textContent="Connected Devices",i=b(),a=c("div"),f=A(r),d=b(),u=c("div"),u.textContent="üñ•Ô∏è",p=b(),m=c("div"),v=c("div"),v.textContent="WiFi Signal",k=b(),_=c("div"),g=A(h),w=A(" dBm"),q=b(),y=c("div"),y.textContent="üì∂",S=b(),j=c("div"),C=c("div"),C.textContent="CPU Temp",z=b(),P=c("div"),B=A(M),D=A("¬∞C"),W=b(),G=c("div"),G.textContent="üå°Ô∏è",H=b(),E=c("div"),V=c("div"),V.textContent="RAM Usage",U=b(),J=c("div"),O=A(F),X=A("%"),K=b(),I=c("div"),I.textContent="üíæ",$=b(),Y=c("div"),oe=c("div"),oe.textContent="Uptime",fe=b(),se=c("div"),_e=A(de),be=b(),Z=c("div"),Z.textContent="‚è±Ô∏è",ie=b(),ve=c("button"),ae=A(re),o(l,"class","stat-label svelte-1dfr0au"),o(a,"class","stat-value svelte-1dfr0au"),o(u,"class","stat-icon svelte-1dfr0au"),o(t,"class","stat-card svelte-1dfr0au"),o(v,"class","stat-label svelte-1dfr0au"),o(_,"class","stat-value svelte-1dfr0au"),De(_,"color",it(s[0].wifi_signal)),o(y,"class","stat-icon svelte-1dfr0au"),o(m,"class","stat-card svelte-1dfr0au"),o(C,"class","stat-label svelte-1dfr0au"),o(P,"class","stat-value svelte-1dfr0au"),De(P,"color",at(s[0].cpu_temp)),o(G,"class","stat-icon svelte-1dfr0au"),o(j,"class","stat-card svelte-1dfr0au"),o(V,"class","stat-label svelte-1dfr0au"),o(J,"class","stat-value svelte-1dfr0au"),o(I,"class","stat-icon svelte-1dfr0au"),o(E,"class","stat-card svelte-1dfr0au"),o(oe,"class","stat-label svelte-1dfr0au"),o(se,"class","stat-value small svelte-1dfr0au"),o(Z,"class","stat-icon svelte-1dfr0au"),o(Y,"class","stat-card svelte-1dfr0au"),o(ve,"class","refresh-btn svelte-1dfr0au"),ve.disabled=s[1],o(ve,"title","Refresh stats"),o(e,"class","summary svelte-1dfr0au")},m(Q,x){L(Q,e,x),n(e,t),n(t,l),n(t,i),n(t,a),n(a,f),n(t,d),n(t,u),n(e,p),n(e,m),n(m,v),n(m,k),n(m,_),n(_,g),n(_,w),n(m,q),n(m,y),n(e,S),n(e,j),n(j,C),n(j,z),n(j,P),n(P,B),n(P,D),n(j,W),n(j,G),n(e,H),n(e,E),n(E,V),n(E,U),n(E,J),n(J,O),n(J,X),n(E,K),n(E,I),n(e,$),n(e,Y),n(Y,oe),n(Y,fe),n(Y,se),n(se,_e),n(Y,be),n(Y,Z),n(e,ie),n(e,ve),n(ve,ae),qe||(Se=R(ve,"click",s[2]),qe=!0)},p(Q,[x]){x&1&&r!==(r=Q[0].connected_clients+"")&&N(f,r),x&1&&h!==(h=Q[0].wifi_signal+"")&&N(g,h),x&1&&De(_,"color",it(Q[0].wifi_signal)),x&1&&M!==(M=Q[0].cpu_temp.toFixed(1)+"")&&N(B,M),x&1&&De(P,"color",at(Q[0].cpu_temp)),x&1&&F!==(F=Q[0].ram_usage+"")&&N(O,F),x&1&&de!==(de=Q[0].uptime+"")&&N(_e,de),x&2&&re!==(re=Q[1]?"...":"‚Üª")&&N(ae,re),x&2&&(ve.disabled=Q[1])},i:ee,o:ee,d(Q){Q&&T(e),qe=!1,Se()}}}function it(s){return s>=-50?"#22c55e":s>=-70?"#eab308":"#ef4444"}function at(s){return s<60?"#60a5fa":s<80?"#f59e0b":"#ef4444"}function Wl(s,e,t){let{token:l}=e,i={connected_clients:0,wifi_signal:0,uptime:"‚Äî",cpu_temp:0,ram_usage:0,dhcp_leases:0},a=!1;async function r(){t(1,a=!0);try{const d=await(await fetch("/api/system/status",{headers:{Authorization:`Bearer ${l}`}})).json();d.success&&(t(0,i.uptime=d.data.uptime,i),t(0,i.cpu_temp=d.data.cpu_temp,i),t(0,i.ram_usage=d.data.ram_usage,i));const p=await(await fetch("/api/wifi/status",{headers:{Authorization:`Bearer ${l}`}})).json();p.success&&p.data.signal&&t(0,i.wifi_signal=p.data.signal,i);const v=await(await fetch("/api/network/clients",{headers:{Authorization:`Bearer ${l}`}})).json();v.success&&t(0,i.connected_clients=(v.data||[]).length,i)}catch(f){console.error("Failed to load stats:",f)}finally{t(1,a=!1)}}return Ae(()=>{r();const f=setInterval(r,3e4);return()=>clearInterval(f)}),s.$$set=f=>{"token"in f&&t(3,l=f.token)},[i,a,r,l]}class Ul extends Ce{constructor(e){super(),ye(this,e,Wl,Hl,ge,{token:3})}}function ot(s,e,t){const l=s.slice();return l[18]=e[t],l}function rt(s,e,t){const l=s.slice();return l[18]=e[t],l}function ct(s){let e,t;return{c(){e=c("div"),t=A(s[6]),o(e,"class","error-message svelte-h7q1cq")},m(l,i){L(l,e,i),n(e,t)},p(l,i){i&64&&N(t,l[6])},d(l){l&&T(e)}}}function ut(s){let e,t;return{c(){e=c("div"),t=A(s[7]),o(e,"class","success-message svelte-h7q1cq")},m(l,i){L(l,e,i),n(e,t)},p(l,i){i&128&&N(t,l[7])},d(l){l&&T(e)}}}function Jl(s){let e;return{c(){e=c("p"),e.textContent="Click 'Status' to check connection",o(e,"class","muted svelte-h7q1cq")},m(t,l){L(t,e,l)},p:ee,d(t){t&&T(e)}}}function Xl(s){let e,t,l,i,a,r=s[1].connected?"‚úÖ Yes":"‚ùå No",f,d,u=s[1].connected&&ft(s);return{c(){e=c("div"),t=c("div"),l=c("span"),l.textContent="Connected:",i=b(),a=c("span"),f=A(r),d=b(),u&&u.c(),o(l,"class","label svelte-h7q1cq"),o(a,"class","value svelte-h7q1cq"),o(t,"class","info-row svelte-h7q1cq"),o(e,"class","status-info svelte-h7q1cq")},m(p,m){L(p,e,m),n(e,t),n(t,l),n(t,i),n(t,a),n(a,f),n(e,d),u&&u.m(e,null)},p(p,m){m&2&&r!==(r=p[1].connected?"‚úÖ Yes":"‚ùå No")&&N(f,r),p[1].connected?u?u.p(p,m):(u=ft(p),u.c(),u.m(e,null)):u&&(u.d(1),u=null)},d(p){p&&T(e),u&&u.d()}}}function ft(s){let e,t,l,i,a=(s[1].ssid||"Unknown")+"",r,f,d,u,p,m,v=(s[1].ip||"N/A")+"",k,_,h,g,w,q,y=s[1].signal&&dt(s);return{c(){e=c("div"),t=c("span"),t.textContent="Network:",l=b(),i=c("span"),r=A(a),f=b(),d=c("div"),u=c("span"),u.textContent="IP Address:",p=b(),m=c("span"),k=A(v),_=b(),y&&y.c(),h=b(),g=c("button"),g.textContent="Disconnect",o(t,"class","label svelte-h7q1cq"),o(i,"class","value svelte-h7q1cq"),o(e,"class","info-row svelte-h7q1cq"),o(u,"class","label svelte-h7q1cq"),o(m,"class","value svelte-h7q1cq"),o(d,"class","info-row svelte-h7q1cq"),o(g,"class","btn btn-danger svelte-h7q1cq")},m(S,j){L(S,e,j),n(e,t),n(e,l),n(e,i),n(i,r),L(S,f,j),L(S,d,j),n(d,u),n(d,p),n(d,m),n(m,k),L(S,_,j),y&&y.m(S,j),L(S,h,j),L(S,g,j),w||(q=R(g,"click",s[11]),w=!0)},p(S,j){j&2&&a!==(a=(S[1].ssid||"Unknown")+"")&&N(r,a),j&2&&v!==(v=(S[1].ip||"N/A")+"")&&N(k,v),S[1].signal?y?y.p(S,j):(y=dt(S),y.c(),y.m(h.parentNode,h)):y&&(y.d(1),y=null)},d(S){S&&(T(e),T(f),T(d),T(_),T(h),T(g)),y&&y.d(S),w=!1,q()}}}function dt(s){let e,t,l,i,a=s[1].signal+"",r,f;return{c(){e=c("div"),t=c("span"),t.textContent="Signal:",l=b(),i=c("span"),r=A(a),f=A(" dBm"),o(t,"class","label svelte-h7q1cq"),o(i,"class","value svelte-h7q1cq"),o(e,"class","info-row svelte-h7q1cq")},m(d,u){L(d,e,u),n(e,t),n(e,l),n(e,i),n(i,r),n(i,f)},p(d,u){u&2&&a!==(a=d[1].signal+"")&&N(r,a)},d(d){d&&T(e)}}}function pt(s,e){let t,l=e[18].ssid+"",i,a,r=e[18].signal+"",f,d,u;return{key:s,first:null,c(){t=c("option"),i=A(l),a=A(" ("),f=A(r),d=A(` dBm)
            `),t.__value=u=e[18].ssid,te(t,t.__value),this.first=t},m(p,m){L(p,t,m),n(t,i),n(t,a),n(t,f),n(t,d)},p(p,m){e=p,m&1&&l!==(l=e[18].ssid+"")&&N(i,l),m&1&&r!==(r=e[18].signal+"")&&N(f,r),m&1&&u!==(u=e[18].ssid)&&(t.__value=u,te(t,t.__value))},d(p){p&&T(t)}}}function Gl(s){let e=[],t=new Map,l,i=ue(s[0]);const a=r=>r[18].ssid;for(let r=0;r<i.length;r+=1){let f=ot(s,i,r),d=a(f);t.set(d,e[r]=vt(d,f))}return{c(){for(let r=0;r<e.length;r+=1)e[r].c();l=kl()},m(r,f){for(let d=0;d<e.length;d+=1)e[d]&&e[d].m(r,f);L(r,l,f)},p(r,f){f&4145&&(i=ue(r[0]),e=Te(e,f,a,1,r,i,t,l.parentNode,Pe,vt,l,ot))},d(r){r&&T(l);for(let f=0;f<e.length;f+=1)e[f].d(r)}}}function Vl(s){let e;return{c(){e=c("p"),e.textContent='No networks found. Click "Scan Networks" to search.',o(e,"class","muted svelte-h7q1cq")},m(t,l){L(t,e,l)},p:ee,d(t){t&&T(e)}}}function vt(s,e){let t,l,i,a=e[18].ssid+"",r,f,d,u,p,m=e[18].signal+"",v,k,_,h,g,w=e[18].security+"",q,y,S,j,C,z,P,M;function B(){return e[16](e[18])}return{key:s,first:null,c(){t=c("div"),l=c("div"),i=c("div"),r=A(a),f=b(),d=c("div"),u=c("span"),p=A("Signal: "),v=A(m),k=A(" dBm"),_=b(),h=c("span"),g=A("Security: "),q=A(w),y=b(),S=c("button"),j=A("Select"),z=b(),o(i,"class","network-name svelte-h7q1cq"),o(d,"class","network-details svelte-h7q1cq"),o(l,"class","network-info svelte-h7q1cq"),o(S,"class","btn btn-small svelte-h7q1cq"),S.disabled=C=!e[5]||e[4]===e[18].ssid,o(t,"class","network-item svelte-h7q1cq"),this.first=t},m(D,W){L(D,t,W),n(t,l),n(l,i),n(i,r),n(l,f),n(l,d),n(d,u),n(u,p),n(u,v),n(u,k),n(d,_),n(d,h),n(h,g),n(h,q),n(t,y),n(t,S),n(S,j),n(t,z),P||(M=R(S,"click",B),P=!0)},p(D,W){e=D,W&1&&a!==(a=e[18].ssid+"")&&N(r,a),W&1&&m!==(m=e[18].signal+"")&&N(v,m),W&1&&w!==(w=e[18].security+"")&&N(q,w),W&49&&C!==(C=!e[5]||e[4]===e[18].ssid)&&(S.disabled=C)},d(D){D&&T(t),P=!1,M()}}}function Kl(s){let e,t,l,i,a,r,f=s[2]?"üîÑ Scanning...":"üîç Scan Networks",d,u,p,m,v,k,_,h,g,w,q,y,S,j,C,z,P,M,B,D=[],W=new Map,G,H,E,V,U,J,F,O,X=s[3]?"‚è≥ Connecting...":"üì° Connect",K,I,$,Y,oe,fe,se=s[0].length+"",de,_e,be,Z,ie,ve,re=s[6]&&ct(s),ae=s[7]&&ut(s);function qe(le,pe){return le[1]?Xl:Jl}let Se=qe(s),Q=Se(s),x=ue(s[0]);const ze=le=>le[18].ssid;for(let le=0;le<x.length;le+=1){let pe=rt(s,x,le),Re=ze(pe);W.set(Re,D[le]=pt(Re,pe))}function tt(le,pe){return le[0].length===0?Vl:Gl}let Xe=tt(s),Le=Xe(s);return{c(){e=c("div"),t=c("div"),l=c("h2"),l.textContent="WiFi Management",i=b(),a=c("div"),r=c("button"),d=A(f),u=b(),p=c("button"),p.textContent="‚Üª Status",m=b(),re&&re.c(),v=b(),ae&&ae.c(),k=b(),_=c("div"),h=c("div"),g=c("h3"),g.textContent="Current Connection",w=b(),Q.c(),q=b(),y=c("div"),S=c("h3"),S.textContent="Connect to Network",j=b(),C=c("div"),z=c("label"),z.textContent="Select Network",P=b(),M=c("select"),B=c("option"),B.textContent="-- Choose a network --";for(let le=0;le<D.length;le+=1)D[le].c();G=b(),H=c("div"),E=c("label"),E.textContent="Password",V=b(),U=c("input"),F=b(),O=c("button"),K=A(X),$=b(),Y=c("div"),oe=c("h3"),fe=A("Available Networks ("),de=A(se),_e=A(")"),be=b(),Z=c("div"),Le.c(),o(l,"class","svelte-h7q1cq"),o(r,"class","btn btn-primary svelte-h7q1cq"),r.disabled=s[2],o(p,"class","btn btn-secondary svelte-h7q1cq"),o(a,"class","buttons svelte-h7q1cq"),o(t,"class","panel-header svelte-h7q1cq"),o(g,"class","svelte-h7q1cq"),o(h,"class","card svelte-h7q1cq"),o(S,"class","svelte-h7q1cq"),o(z,"class","svelte-h7q1cq"),B.__value="",te(B,B.__value),o(M,"class","svelte-h7q1cq"),s[4]===void 0&&Be(()=>s[14].call(M)),o(C,"class","form-group svelte-h7q1cq"),o(E,"class","svelte-h7q1cq"),o(U,"type","password"),o(U,"placeholder","Enter WiFi password"),U.disabled=J=s[3]||!s[4],o(U,"class","svelte-h7q1cq"),o(H,"class","form-group svelte-h7q1cq"),o(O,"class","btn btn-primary svelte-h7q1cq"),O.disabled=I=s[3]||!s[4]||!s[5],o(y,"class","card svelte-h7q1cq"),o(_,"class","grid svelte-h7q1cq"),o(oe,"class","svelte-h7q1cq"),o(Z,"class","network-list svelte-h7q1cq"),o(Y,"class","card svelte-h7q1cq"),o(e,"class","wifi-panel svelte-h7q1cq")},m(le,pe){L(le,e,pe),n(e,t),n(t,l),n(t,i),n(t,a),n(a,r),n(r,d),n(a,u),n(a,p),n(e,m),re&&re.m(e,null),n(e,v),ae&&ae.m(e,null),n(e,k),n(e,_),n(_,h),n(h,g),n(h,w),Q.m(h,null),n(_,q),n(_,y),n(y,S),n(y,j),n(y,C),n(C,z),n(C,P),n(C,M),n(M,B);for(let Re=0;Re<D.length;Re+=1)D[Re]&&D[Re].m(M,null);Ne(M,s[4],!0),n(y,G),n(y,H),n(H,E),n(H,V),n(H,U),te(U,s[5]),n(y,F),n(y,O),n(O,K),n(e,$),n(e,Y),n(Y,oe),n(oe,fe),n(oe,de),n(oe,_e),n(Y,be),n(Y,Z),Le.m(Z,null),ie||(ve=[R(r,"click",s[8]),R(p,"click",s[9]),R(M,"change",s[14]),R(U,"input",s[15]),R(O,"click",s[10])],ie=!0)},p(le,[pe]){pe&4&&f!==(f=le[2]?"üîÑ Scanning...":"üîç Scan Networks")&&N(d,f),pe&4&&(r.disabled=le[2]),le[6]?re?re.p(le,pe):(re=ct(le),re.c(),re.m(e,v)):re&&(re.d(1),re=null),le[7]?ae?ae.p(le,pe):(ae=ut(le),ae.c(),ae.m(e,k)):ae&&(ae.d(1),ae=null),Se===(Se=qe(le))&&Q?Q.p(le,pe):(Q.d(1),Q=Se(le),Q&&(Q.c(),Q.m(h,null))),pe&1&&(x=ue(le[0]),D=Te(D,pe,ze,1,le,x,W,M,Pe,pt,null,rt)),pe&17&&Ne(M,le[4]),pe&25&&J!==(J=le[3]||!le[4])&&(U.disabled=J),pe&32&&U.value!==le[5]&&te(U,le[5]),pe&8&&X!==(X=le[3]?"‚è≥ Connecting...":"üì° Connect")&&N(K,X),pe&57&&I!==(I=le[3]||!le[4]||!le[5])&&(O.disabled=I),pe&1&&se!==(se=le[0].length+"")&&N(de,se),Xe===(Xe=tt(le))&&Le?Le.p(le,pe):(Le.d(1),Le=Xe(le),Le&&(Le.c(),Le.m(Z,null)))},i:ee,o:ee,d(le){le&&T(e),re&&re.d(),ae&&ae.d(),Q.d();for(let pe=0;pe<D.length;pe+=1)D[pe].d();Le.d(),ie=!1,me(ve)}}}function Yl(s,e,t){We();let{token:l}=e,i=[],a=null,r=!1,f=!1,d="",u="",p="",m="";Ae(()=>{k(),v()});async function v(){t(2,r=!0),t(6,p="");try{const j=await(await fetch("/api/wifi/scan",{headers:{Authorization:`Bearer ${l}`}})).json();j.success?(t(0,i=j.data||[]),i.sort((C,z)=>z.signal-C.signal)):t(6,p=j.error||"Scan failed")}catch(S){t(6,p=S.message)}finally{t(2,r=!1)}}async function k(){try{const j=await(await fetch("/api/wifi/status",{headers:{Authorization:`Bearer ${l}`}})).json();j.success&&t(1,a=j.data)}catch(S){console.error("Failed to get WiFi status:",S)}}async function _(){if(!d||!u){t(6,p="Please select a network and enter password");return}t(3,f=!0),t(6,p=""),t(7,m="");try{const j=await(await fetch("/api/wifi/connect",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${l}`},body:JSON.stringify({ssid:d,password:u})})).json();j.success?(t(7,m=`‚úì Connecting to ${d}...`),t(5,u=""),t(4,d=""),await new Promise(C=>setTimeout(C,3e3)),await k(),t(7,m="")):t(6,p=j.error||"Connection failed")}catch(S){t(6,p=S.message)}finally{t(3,f=!1)}}async function h(){try{const j=await(await fetch("/api/wifi/disconnect",{method:"POST",headers:{Authorization:`Bearer ${l}`}})).json();j.success?await k():t(6,p=j.error||"Disconnect failed")}catch(S){t(6,p=S.message)}}function g(S){t(4,d=S)}function w(){d=Ge(this),t(4,d),t(0,i)}function q(){u=this.value,t(5,u)}const y=S=>g(S.ssid);return s.$$set=S=>{"token"in S&&t(13,l=S.token)},[i,a,r,f,d,u,p,m,v,k,_,h,g,l,w,q,y]}class Ql extends Ce{constructor(e){super(),ye(this,e,Yl,Kl,ge,{token:13})}}function ht(s){let e,t;return{c(){e=c("div"),t=A(s[2]),o(e,"class","error-message svelte-58hiqe")},m(l,i){L(l,e,i),n(e,t)},p(l,i){i&4&&N(t,l[2])},d(l){l&&T(e)}}}function Zl(s){let e;return{c(){e=c("p"),e.textContent="Click 'Refresh' to load network status",o(e,"class","muted svelte-58hiqe")},m(t,l){L(t,e,l)},p:ee,d(t){t&&T(e)}}}function $l(s){let e,t;return{c(){e=c("pre"),t=A(s[0]),o(e,"class","status-output svelte-58hiqe")},m(l,i){L(l,e,i),n(e,t)},p(l,i){i&1&&N(t,l[0])},d(l){l&&T(e)}}}function xl(s){let e,t,l,i,a,r=s[1]?"‚è≥ Loading...":"‚Üª Refresh",f,d,u,p,m,v,k,_,h,g,w=s[2]&&ht(s);function q(j,C){return j[0]?$l:Zl}let y=q(s),S=y(s);return{c(){e=c("div"),t=c("div"),l=c("h2"),l.textContent="Network Configuration",i=b(),a=c("button"),f=A(r),d=b(),w&&w.c(),u=b(),p=c("div"),m=c("h3"),m.textContent="Network Status",v=b(),S.c(),k=b(),_=c("div"),_.innerHTML='<h3 class="svelte-58hiqe">Configuration</h3> <div class="info-grid svelte-58hiqe"><div class="info-item svelte-58hiqe"><span class="label svelte-58hiqe">Ethernet IP:</span> <span class="value svelte-58hiqe">192.168.100.1/24</span></div> <div class="info-item svelte-58hiqe"><span class="label svelte-58hiqe">DHCP Range:</span> <span class="value svelte-58hiqe">192.168.100.50 - 200</span></div> <div class="info-item svelte-58hiqe"><span class="label svelte-58hiqe">DNS Domain:</span> <span class="value svelte-58hiqe">piwifi.local</span></div> <div class="info-item svelte-58hiqe"><span class="label svelte-58hiqe">Upstream DNS:</span> <span class="value svelte-58hiqe">8.8.8.8, 8.8.4.4</span></div></div>',o(l,"class","svelte-58hiqe"),o(a,"class","btn btn-primary svelte-58hiqe"),a.disabled=s[1],o(t,"class","panel-header svelte-58hiqe"),o(m,"class","svelte-58hiqe"),o(p,"class","card svelte-58hiqe"),o(_,"class","card svelte-58hiqe"),o(e,"class","network-panel svelte-58hiqe")},m(j,C){L(j,e,C),n(e,t),n(t,l),n(t,i),n(t,a),n(a,f),n(e,d),w&&w.m(e,null),n(e,u),n(e,p),n(p,m),n(p,v),S.m(p,null),n(e,k),n(e,_),h||(g=R(a,"click",s[3]),h=!0)},p(j,[C]){C&2&&r!==(r=j[1]?"‚è≥ Loading...":"‚Üª Refresh")&&N(f,r),C&2&&(a.disabled=j[1]),j[2]?w?w.p(j,C):(w=ht(j),w.c(),w.m(e,u)):w&&(w.d(1),w=null),y===(y=q(j))&&S?S.p(j,C):(S.d(1),S=y(j),S&&(S.c(),S.m(p,null)))},i:ee,o:ee,d(j){j&&T(e),w&&w.d(),S.d(),h=!1,g()}}}function es(s,e,t){We();let{token:l}=e,i="",a=!1,r="";async function f(){t(1,a=!0),t(2,r="");try{const u=await(await fetch("/api/network/status",{headers:{Authorization:`Bearer ${l}`}})).json();u.success?t(0,i=u.data):t(2,r=u.error||"Failed to load status")}catch(d){t(2,r=d.message)}finally{t(1,a=!1)}}return s.$$set=d=>{"token"in d&&t(4,l=d.token)},[i,a,r,f,l]}class ts extends Ce{constructor(e){super(),ye(this,e,es,xl,ge,{token:4})}}function mt(s){let e,t;return{c(){e=c("div"),t=A(s[2]),o(e,"class","error-message svelte-1plhj8z")},m(l,i){L(l,e,i),n(e,t)},p(l,i){i&4&&N(t,l[2])},d(l){l&&T(e)}}}function ls(s){let e;return{c(){e=c("p"),e.textContent="Click 'Refresh' to load firewall rules",o(e,"class","muted svelte-1plhj8z")},m(t,l){L(t,e,l)},p:ee,d(t){t&&T(e)}}}function ss(s){let e,t;return{c(){e=c("pre"),t=A(s[0]),o(e,"class","rules-output svelte-1plhj8z")},m(l,i){L(l,e,i),n(e,t)},p(l,i){i&1&&N(t,l[0])},d(l){l&&T(e)}}}function ns(s){let e,t,l,i,a,r,f=s[1]?"‚è≥ Loading...":"‚Üª Refresh",d,u,p,m,v,k,_,h,g,w,q,y,S,j,C,z,P,M,B,D,W,G,H,E,V,U,J,F,O,X,K,I,$,Y,oe,fe,se,de,_e,be,Z,ie,ve,re,ae=s[2]&&mt(s);function qe(x,ze){return x[0]?ss:ls}let Se=qe(s),Q=Se(s);return{c(){e=c("div"),t=c("div"),l=c("h2"),l.textContent="Firewall Management",i=b(),a=c("div"),r=c("button"),d=A(f),u=b(),p=c("button"),p.textContent="üíæ Save Rules",m=b(),ae&&ae.c(),v=b(),k=c("div"),_=c("div"),h=c("h3"),h.textContent="Apply New Rule",g=b(),w=c("div"),q=c("label"),q.textContent="Interface",y=b(),S=c("select"),j=c("option"),j.textContent="eth0 (Ethernet)",C=c("option"),C.textContent="wlan0 (WiFi)",z=b(),P=c("div"),M=c("label"),M.textContent="Protocol",B=b(),D=c("select"),W=c("option"),W.textContent="TCP",G=c("option"),G.textContent="UDP",H=b(),E=c("div"),V=c("label"),V.textContent="Port",U=b(),J=c("input"),F=b(),O=c("div"),X=c("label"),X.textContent="Action",K=b(),I=c("select"),$=c("option"),$.textContent="Allow",Y=c("option"),Y.textContent="Block",oe=b(),fe=c("button"),fe.textContent="Apply Rule",se=b(),de=c("div"),de.innerHTML='<h3 class="svelte-1plhj8z">Default Rules</h3> <ul class="default-rules svelte-1plhj8z"><li class="svelte-1plhj8z">üì© Port 22 (SSH) - ALLOW on eth0</li> <li class="svelte-1plhj8z">üåê Port 53 (DNS) - ALLOW on eth0</li> <li class="svelte-1plhj8z">üì° Port 67-68 (DHCP) - ALLOW on eth0</li> <li class="svelte-1plhj8z">üîó Port 80 (HTTP) - ALLOW on eth0</li> <li class="svelte-1plhj8z">üîê Port 443 (HTTPS) - ALLOW on eth0</li> <li class="svelte-1plhj8z">üì∂ ICMP (Ping) - ALLOW</li> <li class="svelte-1plhj8z">üö´ All other INPUT - DROP</li></ul>',_e=b(),be=c("div"),Z=c("h3"),Z.textContent="Current Rules",ie=b(),Q.c(),o(l,"class","svelte-1plhj8z"),o(r,"class","btn btn-primary svelte-1plhj8z"),r.disabled=s[1],o(p,"class","btn btn-success svelte-1plhj8z"),o(a,"class","buttons svelte-1plhj8z"),o(t,"class","panel-header svelte-1plhj8z"),o(h,"class","svelte-1plhj8z"),o(q,"class","svelte-1plhj8z"),j.__value="eth0",te(j,j.__value),C.__value="wlan0",te(C,C.__value),o(S,"class","svelte-1plhj8z"),s[6]===void 0&&Be(()=>s[11].call(S)),o(w,"class","form-group svelte-1plhj8z"),o(M,"class","svelte-1plhj8z"),W.__value="tcp",te(W,W.__value),G.__value="udp",te(G,G.__value),o(D,"class","svelte-1plhj8z"),s[4]===void 0&&Be(()=>s[12].call(D)),o(P,"class","form-group svelte-1plhj8z"),o(V,"class","svelte-1plhj8z"),o(J,"type","number"),o(J,"placeholder","Enter port number"),o(J,"min","1"),o(J,"max","65535"),o(J,"class","svelte-1plhj8z"),o(E,"class","form-group svelte-1plhj8z"),o(X,"class","svelte-1plhj8z"),$.__value="allow",te($,$.__value),Y.__value="block",te(Y,Y.__value),o(I,"class","svelte-1plhj8z"),s[3]===void 0&&Be(()=>s[14].call(I)),o(O,"class","form-group svelte-1plhj8z"),o(fe,"class","btn btn-primary svelte-1plhj8z"),o(_,"class","card svelte-1plhj8z"),o(de,"class","card svelte-1plhj8z"),o(k,"class","grid svelte-1plhj8z"),o(Z,"class","svelte-1plhj8z"),o(be,"class","card svelte-1plhj8z"),o(e,"class","firewall-panel svelte-1plhj8z")},m(x,ze){L(x,e,ze),n(e,t),n(t,l),n(t,i),n(t,a),n(a,r),n(r,d),n(a,u),n(a,p),n(e,m),ae&&ae.m(e,null),n(e,v),n(e,k),n(k,_),n(_,h),n(_,g),n(_,w),n(w,q),n(w,y),n(w,S),n(S,j),n(S,C),Ne(S,s[6],!0),n(_,z),n(_,P),n(P,M),n(P,B),n(P,D),n(D,W),n(D,G),Ne(D,s[4],!0),n(_,H),n(_,E),n(E,V),n(E,U),n(E,J),te(J,s[5]),n(_,F),n(_,O),n(O,X),n(O,K),n(O,I),n(I,$),n(I,Y),Ne(I,s[3],!0),n(_,oe),n(_,fe),n(k,se),n(k,de),n(e,_e),n(e,be),n(be,Z),n(be,ie),Q.m(be,null),ve||(re=[R(r,"click",s[7]),R(p,"click",s[9]),R(S,"change",s[11]),R(D,"change",s[12]),R(J,"input",s[13]),R(I,"change",s[14]),R(fe,"click",s[8])],ve=!0)},p(x,[ze]){ze&2&&f!==(f=x[1]?"‚è≥ Loading...":"‚Üª Refresh")&&N(d,f),ze&2&&(r.disabled=x[1]),x[2]?ae?ae.p(x,ze):(ae=mt(x),ae.c(),ae.m(e,v)):ae&&(ae.d(1),ae=null),ze&64&&Ne(S,x[6]),ze&16&&Ne(D,x[4]),ze&32&&He(J.value)!==x[5]&&te(J,x[5]),ze&8&&Ne(I,x[3]),Se===(Se=qe(x))&&Q?Q.p(x,ze):(Q.d(1),Q=Se(x),Q&&(Q.c(),Q.m(be,null)))},i:ee,o:ee,d(x){x&&T(e),ae&&ae.d(),Q.d(),ve=!1,me(re)}}}function is(s,e,t){let{token:l}=e,i="",a=!1,r="",f="allow",d="tcp",u="",p="eth0";async function m(){t(1,a=!0),t(2,r="");try{const y=await(await fetch("/api/firewall/rules",{headers:{Authorization:`Bearer ${l}`}})).json();y.success?t(0,i=y.data):t(2,r=y.error||"Failed to load rules")}catch(q){t(2,r=q.message)}finally{t(1,a=!1)}}async function v(){if(!u){t(2,r="Please enter a port");return}t(2,r="");try{const y=await(await fetch("/api/firewall/apply",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${l}`},body:JSON.stringify({action:f,interface:p,protocol:d,port:parseInt(u)})})).json();y.success?(t(5,u=""),await m()):t(2,r=y.error||"Failed to apply rule")}catch(q){t(2,r=q.message)}}async function k(){t(2,r="");try{const y=await(await fetch("/api/firewall/save",{method:"POST",headers:{Authorization:`Bearer ${l}`}})).json();y.success?alert("Firewall rules saved successfully!"):t(2,r=y.error||"Failed to save rules")}catch(q){t(2,r=q.message)}}function _(){p=Ge(this),t(6,p)}function h(){d=Ge(this),t(4,d)}function g(){u=He(this.value),t(5,u)}function w(){f=Ge(this),t(3,f)}return s.$$set=q=>{"token"in q&&t(10,l=q.token)},[i,a,r,f,d,u,p,m,v,k,l,_,h,g,w]}class as extends Ce{constructor(e){super(),ye(this,e,is,ns,ge,{token:10})}}function _t(s,e,t){const l=s.slice();return l[13]=e[t],l}function bt(s,e){let t,l=e[13]+"",i;return{key:s,first:null,c(){t=c("div"),i=A(l),o(t,"class","line svelte-nxv3wh"),this.first=t},m(a,r){L(a,t,r),n(t,i)},p(a,r){e=a,r&4&&l!==(l=e[13]+"")&&N(i,l)},d(a){a&&T(t)}}}function os(s){let e,t,l,i,a,r,f,d=[],u=new Map,p,m,v,k,_,h,g,w,q,y=ue(s[2]);const S=j=>j[13]+Math.random();for(let j=0;j<y.length;j+=1){let C=_t(s,y,j),z=S(C);u.set(z,d[j]=bt(z,C))}return{c(){e=c("div"),t=c("div"),l=c("h2"),l.textContent="‚å®Ô∏è Terminal Emulator",i=b(),a=c("span"),a.textContent="üî¥ Read-only",r=b(),f=c("div");for(let j=0;j<d.length;j+=1)d[j].c();p=b(),m=c("div"),v=c("span"),v.textContent="$",k=b(),_=c("input"),h=b(),g=c("div"),g.innerHTML=`<p class="svelte-nxv3wh">üí° This is a read-only terminal simulator for demonstration. Full PTY support with WebSocket
      streaming coming soon.</p>`,o(l,"class","svelte-nxv3wh"),o(a,"class","status svelte-nxv3wh"),ne(a,"connected",rs),o(t,"class","panel-header svelte-nxv3wh"),o(f,"class","terminal svelte-nxv3wh"),o(v,"class","prompt svelte-nxv3wh"),o(_,"type","text"),o(_,"placeholder","Type command and press Enter (try 'help')"),o(_,"class","svelte-nxv3wh"),o(m,"class","input-area svelte-nxv3wh"),o(g,"class","info svelte-nxv3wh"),o(e,"class","terminal-panel svelte-nxv3wh")},m(j,C){L(j,e,C),n(e,t),n(t,l),n(t,i),n(t,a),n(e,r),n(e,f);for(let z=0;z<d.length;z+=1)d[z]&&d[z].m(f,null);s[6](f),n(e,p),n(e,m),n(m,v),n(m,k),n(m,_),te(_,s[3]),s[8](_),n(e,h),n(e,g),w||(q=[R(_,"input",s[7]),R(_,"keydown",s[4])],w=!0)},p(j,[C]){C&4&&(y=ue(j[2]),d=Te(d,C,S,1,j,y,u,f,Pe,bt,null,_t)),C&8&&_.value!==j[3]&&te(_,j[3])},i:ee,o:ee,d(j){j&&T(e);for(let C=0;C<d.length;C+=1)d[C].d();s[6](null),s[8](null),w=!1,me(q)}}}let rs=!1;function cs(s,e,t){let{token:l}=e,i,a,r=[],f="";const d=["help","status","wifi-scan","wifi-status","network-status","firewall-rules","ifconfig","ping 8.8.8.8","nslookup google.com","clear"];Ae(()=>{Math.random().toString(36).substring(7),u("üîå PiWifi Terminal"),u(`Type "help" for available commands
`),a==null||a.focus()});function u(h){t(2,r=[...r,h]),setTimeout(()=>{i&&t(0,i.scrollTop=i.scrollHeight,i)},0)}async function p(h){h.trim()&&(u(`$ ${h}`),t(3,f=""),h==="help"?(u("Available commands:"),d.forEach(g=>u(`  ${g}`))):h==="status"?(u("PiWifi Status:"),u("  WiFi: Connected"),u("  Network: 192.168.100.0/24"),u("  DHCP: Active"),u("  Firewall: Enabled")):h==="wifi-scan"?(u("Scanning for WiFi networks..."),u("  MyNetwork (Signal: -45 dBm)"),u("  NeighborWiFi (Signal: -68 dBm)")):h==="wifi-status"?(u("WiFi Status:"),u("  Interface: wlan0"),u("  SSID: MyNetwork"),u("  IP: 192.168.1.100"),u("  Signal: -45 dBm")):h==="network-status"?(u("Network Status:"),u("  eth0: 192.168.100.1/24"),u("  DHCP: Enabled"),u("  DNS: piwifi.local")):h==="firewall-rules"?(u("Firewall Rules (INPUT):"),u("  Chain INPUT (policy DROP)"),u("  ACCEPT  all -- lo"),u("  ACCEPT  all -- * *  state RELATED,ESTABLISHED"),u("  ACCEPT  udp -- eth0 * dpt:53"),u("  ACCEPT  tcp -- eth0 * dpt:22")):h==="ifconfig"?(u("eth0: flags=UP,RUNNING"),u("  inet 192.168.100.1  netmask 255.255.255.0"),u("  RX packets: 1234  RX bytes: 567890"),u("  TX packets: 5678  TX bytes: 123456"),u(""),u("wlan0: flags=UP,RUNNING"),u("  inet 192.168.1.100  netmask 255.255.255.0"),u("  RX packets: 4567  RX bytes: 234567"),u("  TX packets: 8901  TX bytes: 345678")):h==="ping 8.8.8.8"?(u("PING 8.8.8.8 (8.8.8.8) 56(84) bytes of data."),u("64 bytes from 8.8.8.8: icmp_seq=1 ttl=119 time=25.3 ms"),u("64 bytes from 8.8.8.8: icmp_seq=2 ttl=119 time=24.8 ms"),u("--- 8.8.8.8 statistics ---"),u("2 packets transmitted, 2 received, 0% packet loss")):h==="nslookup google.com"?(u("Server: 192.168.100.1"),u("Address: 192.168.100.1#53"),u("Non-authoritative answer:"),u("Name: google.com"),u("Address: 142.250.185.46")):h==="clear"?t(2,r=[]):(u(`Unknown command: ${h}`),u('Type "help" for available commands')),u(""))}function m(h){h.key==="Enter"&&p(f)}function v(h){Ke[h?"unshift":"push"](()=>{i=h,t(0,i)})}function k(){f=this.value,t(3,f)}function _(h){Ke[h?"unshift":"push"](()=>{a=h,t(1,a)})}return s.$$set=h=>{"token"in h&&t(5,l=h.token)},[i,a,r,f,m,l,v,k,_]}class us extends Ce{constructor(e){super(),ye(this,e,cs,os,ge,{token:5})}}function gt(s,e,t){const l=s.slice();return l[15]=e[t],l}function kt(s,e,t){const l=s.slice();return l[18]=e[t],l}function wt(s){let e,t;return{c(){e=c("div"),t=A(s[3]),o(e,"class","error-message svelte-x5u6hj")},m(l,i){L(l,e,i),n(e,t)},p(l,i){i&8&&N(t,l[3])},d(l){l&&T(e)}}}function fs(s){let e,t=s[2]?"‚è≥ Loading...":"‚ü≥ Refresh Interfaces",l,i,a;return{c(){e=c("button"),l=A(t),o(e,"class","btn btn-primary svelte-x5u6hj"),e.disabled=s[2]},m(r,f){L(r,e,f),n(e,l),i||(a=R(e,"click",s[6]),i=!0)},p(r,f){f&4&&t!==(t=r[2]?"‚è≥ Loading...":"‚ü≥ Refresh Interfaces")&&N(l,t),f&4&&(e.disabled=r[2])},d(r){r&&T(e),i=!1,a()}}}function ds(s){let e,t,l=s[0]==="ping"?"Hostname or IP":s[0]==="dns"?"Domain to resolve":"Target host",i,a,r,f,d,u,p,m=s[2]?"‚è≥ Running...":"‚ñ∂ Run Diagnostic",v,k,_,h;return{c(){e=c("div"),t=c("label"),i=A(l),a=b(),r=c("div"),f=c("input"),u=b(),p=c("button"),v=A(m),o(t,"class","svelte-x5u6hj"),o(f,"type","text"),o(f,"placeholder",d=s[0]==="ping"?"e.g., google.com":s[0]==="dns"?"e.g., example.com":"e.g., google.com"),f.disabled=s[2],o(f,"class","svelte-x5u6hj"),o(p,"class","btn btn-primary svelte-x5u6hj"),p.disabled=k=s[2]||!s[1].trim(),o(r,"class","input-group svelte-x5u6hj"),o(e,"class","form-group svelte-x5u6hj")},m(g,w){L(g,e,w),n(e,t),n(t,i),n(e,a),n(e,r),n(r,f),te(f,s[1]),n(r,u),n(r,p),n(p,v),_||(h=[R(f,"input",s[13]),R(p,"click",s[6])],_=!0)},p(g,w){w&1&&l!==(l=g[0]==="ping"?"Hostname or IP":g[0]==="dns"?"Domain to resolve":"Target host")&&N(i,l),w&1&&d!==(d=g[0]==="ping"?"e.g., google.com":g[0]==="dns"?"e.g., example.com":"e.g., google.com")&&o(f,"placeholder",d),w&4&&(f.disabled=g[2]),w&2&&f.value!==g[1]&&te(f,g[1]),w&4&&m!==(m=g[2]?"‚è≥ Running...":"‚ñ∂ Run Diagnostic")&&N(v,m),w&6&&k!==(k=g[2]||!g[1].trim())&&(p.disabled=k)},d(g){g&&T(e),_=!1,me(h)}}}function yt(s){let e;return{c(){e=c("div"),e.innerHTML='<div class="spinner svelte-x5u6hj"></div> <p>Running diagnostic...</p>',o(e,"class","loading-spinner svelte-x5u6hj")},m(t,l){L(t,e,l)},d(t){t&&T(e)}}}function Ct(s){let e,t,l,i,a;return{c(){e=c("div"),t=c("h4"),t.textContent="Results",l=b(),i=c("pre"),a=A(s[4]),o(t,"class","svelte-x5u6hj"),o(i,"class","result-output svelte-x5u6hj"),o(e,"class","result-section svelte-x5u6hj")},m(r,f){L(r,e,f),n(e,t),n(e,l),n(e,i),n(i,a)},p(r,f){f&16&&N(a,r[4])},d(r){r&&T(e)}}}function jt(s){let e,t,l,i,a,r,f,d,u=[],p=new Map,m=ue(s[5]);const v=k=>k[15].name;for(let k=0;k<m.length;k+=1){let _=gt(s,m,k),h=v(_);p.set(h,u[k]=zt(h,_))}return{c(){e=c("div"),t=c("h4"),t.textContent="Network Interfaces",l=b(),i=c("div"),a=c("table"),r=c("thead"),r.innerHTML='<tr class="svelte-x5u6hj"><th class="svelte-x5u6hj">Name</th> <th class="svelte-x5u6hj">Status</th> <th class="svelte-x5u6hj">Addresses</th> <th class="svelte-x5u6hj">MAC</th></tr>',f=b(),d=c("tbody");for(let k=0;k<u.length;k+=1)u[k].c();o(t,"class","svelte-x5u6hj"),o(a,"class","interfaces-table svelte-x5u6hj"),o(i,"class","table-wrapper svelte-x5u6hj"),o(e,"class","result-section svelte-x5u6hj")},m(k,_){L(k,e,_),n(e,t),n(e,l),n(e,i),n(i,a),n(a,r),n(a,f),n(a,d);for(let h=0;h<u.length;h+=1)u[h]&&u[h].m(d,null)},p(k,_){_&32&&(m=ue(k[5]),u=Te(u,_,v,1,k,m,p,d,Pe,zt,null,gt))},d(k){k&&T(e);for(let _=0;_<u.length;_+=1)u[_].d()}}}function ps(s){let e;return{c(){e=c("span"),e.textContent="No addresses",o(e,"class","muted svelte-x5u6hj")},m(t,l){L(t,e,l)},p:ee,d(t){t&&T(e)}}}function vs(s){let e=[],t=new Map,l,i=ue(s[15].addresses);const a=r=>r[18];for(let r=0;r<i.length;r+=1){let f=kt(s,i,r),d=a(f);t.set(d,e[r]=St(d,f))}return{c(){for(let r=0;r<e.length;r+=1)e[r].c();l=kl()},m(r,f){for(let d=0;d<e.length;d+=1)e[d]&&e[d].m(r,f);L(r,l,f)},p(r,f){f&32&&(i=ue(r[15].addresses),e=Te(e,f,a,1,r,i,t,l.parentNode,Pe,St,l,kt))},d(r){r&&T(l);for(let f=0;f<e.length;f+=1)e[f].d(r)}}}function St(s,e){let t,l=e[18]+"",i;return{key:s,first:null,c(){t=c("div"),i=A(l),o(t,"class","address svelte-x5u6hj"),this.first=t},m(a,r){L(a,t,r),n(t,i)},p(a,r){e=a,r&32&&l!==(l=e[18]+"")&&N(i,l)},d(a){a&&T(t)}}}function zt(s,e){let t,l,i=e[15].name+"",a,r,f,d,u=e[15].up?"‚óè Up":"‚óã Down",p,m,v,k,_,h,g=(e[15].mac||"N/A")+"",w,q;function y(C,z){return C[15].addresses&&C[15].addresses.length>0?vs:ps}let S=y(e),j=S(e);return{key:s,first:null,c(){t=c("tr"),l=c("td"),a=A(i),r=b(),f=c("td"),d=c("span"),p=A(u),v=b(),k=c("td"),j.c(),_=b(),h=c("td"),w=A(g),q=b(),o(l,"class","name svelte-x5u6hj"),o(d,"class",m="status-badge "+(e[15].up?"up":"down")+" svelte-x5u6hj"),o(f,"class","svelte-x5u6hj"),o(k,"class","addresses svelte-x5u6hj"),o(h,"class","mac svelte-x5u6hj"),o(t,"class","svelte-x5u6hj"),this.first=t},m(C,z){L(C,t,z),n(t,l),n(l,a),n(t,r),n(t,f),n(f,d),n(d,p),n(t,v),n(t,k),j.m(k,null),n(t,_),n(t,h),n(h,w),n(t,q)},p(C,z){e=C,z&32&&i!==(i=e[15].name+"")&&N(a,i),z&32&&u!==(u=e[15].up?"‚óè Up":"‚óã Down")&&N(p,u),z&32&&m!==(m="status-badge "+(e[15].up?"up":"down")+" svelte-x5u6hj")&&o(d,"class",m),S===(S=y(e))&&j?j.p(e,z):(j.d(1),j=S(e),j&&(j.c(),j.m(k,null))),z&32&&g!==(g=(e[15].mac||"N/A")+"")&&N(w,g)},d(C){C&&T(t),j.d()}}}function qt(s){let e;return{c(){e=c("p"),e.textContent='Enter a target and click "Run Diagnostic" to begin',o(e,"class","muted svelte-x5u6hj")},m(t,l){L(t,e,l)},d(t){t&&T(e)}}}function Pt(s){let e;return{c(){e=c("p"),e.textContent='Click "Refresh Interfaces" to load network interfaces',o(e,"class","muted svelte-x5u6hj")},m(t,l){L(t,e,l)},d(t){t&&T(e)}}}function hs(s){let e,t,l,i,a,r,f,d,u,p,m,v,k,_,h,g,w,q,y,S,j,C,z,P,M,B,D,W,G,H=s[3]&&wt(s);function E(I,$){return I[0]!=="interfaces"?ds:fs}let V=E(s),U=V(s),J=s[2]&&yt(),F=s[4]&&Ct(s),O=s[5].length>0&&jt(s),X=!s[2]&&!s[4]&&s[5].length===0&&s[0]!=="interfaces"&&qt(),K=!s[2]&&!s[4]&&s[5].length===0&&s[0]==="interfaces"&&Pt();return{c(){e=c("div"),t=c("div"),t.innerHTML='<h2 class="svelte-x5u6hj">Network Diagnostics</h2> <p class="subtitle svelte-x5u6hj">Troubleshoot network connectivity and configuration</p>',l=b(),i=c("div"),a=c("button"),r=A("Ping"),d=b(),u=c("button"),p=A("DNS"),v=b(),k=c("button"),_=A("Traceroute"),g=b(),w=c("button"),q=A("Interfaces"),S=b(),H&&H.c(),j=b(),C=c("div"),U.c(),z=b(),J&&J.c(),P=b(),F&&F.c(),M=b(),O&&O.c(),B=b(),X&&X.c(),D=b(),K&&K.c(),o(t,"class","panel-header svelte-x5u6hj"),o(a,"class",f="tab "+(s[0]==="ping"?"active":"")+" svelte-x5u6hj"),o(u,"class",m="tab "+(s[0]==="dns"?"active":"")+" svelte-x5u6hj"),o(k,"class",h="tab "+(s[0]==="traceroute"?"active":"")+" svelte-x5u6hj"),o(w,"class",y="tab "+(s[0]==="interfaces"?"active":"")+" svelte-x5u6hj"),o(i,"class","tabs svelte-x5u6hj"),o(C,"class","card svelte-x5u6hj"),o(e,"class","diagnostics-panel svelte-x5u6hj")},m(I,$){L(I,e,$),n(e,t),n(e,l),n(e,i),n(i,a),n(a,r),n(i,d),n(i,u),n(u,p),n(i,v),n(i,k),n(k,_),n(i,g),n(i,w),n(w,q),n(e,S),H&&H.m(e,null),n(e,j),n(e,C),U.m(C,null),n(C,z),J&&J.m(C,null),n(C,P),F&&F.m(C,null),n(C,M),O&&O.m(C,null),n(C,B),X&&X.m(C,null),n(C,D),K&&K.m(C,null),W||(G=[R(a,"click",s[9]),R(u,"click",s[10]),R(k,"click",s[11]),R(w,"click",s[12])],W=!0)},p(I,[$]){$&1&&f!==(f="tab "+(I[0]==="ping"?"active":"")+" svelte-x5u6hj")&&o(a,"class",f),$&1&&m!==(m="tab "+(I[0]==="dns"?"active":"")+" svelte-x5u6hj")&&o(u,"class",m),$&1&&h!==(h="tab "+(I[0]==="traceroute"?"active":"")+" svelte-x5u6hj")&&o(k,"class",h),$&1&&y!==(y="tab "+(I[0]==="interfaces"?"active":"")+" svelte-x5u6hj")&&o(w,"class",y),I[3]?H?H.p(I,$):(H=wt(I),H.c(),H.m(e,j)):H&&(H.d(1),H=null),V===(V=E(I))&&U?U.p(I,$):(U.d(1),U=V(I),U&&(U.c(),U.m(C,z))),I[2]?J||(J=yt(),J.c(),J.m(C,P)):J&&(J.d(1),J=null),I[4]?F?F.p(I,$):(F=Ct(I),F.c(),F.m(C,M)):F&&(F.d(1),F=null),I[5].length>0?O?O.p(I,$):(O=jt(I),O.c(),O.m(C,B)):O&&(O.d(1),O=null),!I[2]&&!I[4]&&I[5].length===0&&I[0]!=="interfaces"?X||(X=qt(),X.c(),X.m(C,D)):X&&(X.d(1),X=null),!I[2]&&!I[4]&&I[5].length===0&&I[0]==="interfaces"?K||(K=Pt(),K.c(),K.m(C,null)):K&&(K.d(1),K=null)},i:ee,o:ee,d(I){I&&T(e),H&&H.d(),U.d(),J&&J.d(),F&&F.d(),O&&O.d(),X&&X.d(),K&&K.d(),W=!1,me(G)}}}function ms(s,e,t){const l=We();let{token:i}=e,a="ping",r="",f=!1,d="",u="",p=[];async function m(){if(!r.trim()&&a!=="interfaces"){t(3,d="Please enter a hostname or domain");return}t(2,f=!0),t(3,d=""),t(4,u=""),t(5,p=[]);try{let q="",y="GET",S=null;switch(a){case"ping":q=`/api/system/diagnostics/ping?target=${encodeURIComponent(r)}`;break;case"dns":q=`/api/system/diagnostics/dns?domain=${encodeURIComponent(r)}`;break;case"traceroute":q=`/api/system/diagnostics/traceroute?target=${encodeURIComponent(r)}`;break;case"interfaces":q="/api/system/diagnostics/interfaces";break}const C=await(await fetch(q,{method:y,headers:{Authorization:`Bearer ${i}`,"Content-Type":"application/json"},body:S})).json();C.success?(a==="interfaces"?t(5,p=C.data||[]):t(4,u=C.data||""),l("refresh")):t(3,d=C.error||"Diagnostic failed")}catch(q){t(3,d=q.message)}finally{t(2,f=!1)}}function v(q){t(0,a=q),t(3,d=""),t(4,u=""),t(5,p=[]),t(1,r="")}const k=()=>v("ping"),_=()=>v("dns"),h=()=>v("traceroute"),g=()=>v("interfaces");function w(){r=this.value,t(1,r)}return s.$$set=q=>{"token"in q&&t(8,i=q.token)},[a,r,f,d,u,p,m,v,i,k,_,h,g,w]}class _s extends Ce{constructor(e){super(),ye(this,e,ms,hs,ge,{token:8})}}function Tt(s){let e,t;return{c(){e=c("div"),t=A(s[4]),o(e,"class","error-message svelte-ulm4af")},m(l,i){L(l,e,i),n(e,t)},p(l,i){i&16&&N(t,l[4])},d(l){l&&T(e)}}}function At(s){let e,t;return{c(){e=c("div"),t=A(s[5]),o(e,"class","success-message svelte-ulm4af")},m(l,i){L(l,e,i),n(e,t)},p(l,i){i&32&&N(t,l[5])},d(l){l&&T(e)}}}function bs(s){let e,t,l,i,a,r,f,d,u,p,m,v,k,_,h,g,w,q,y,S,j,C,z,P,M,B,D,W,G,H,E,V,U,J,F,O,X,K,I,$,Y=s[2]?"‚è≥ Saving...":"üíæ Save Configuration",oe,fe,se,de,_e,be,Z,ie,ve=s[3]?"‚è≥ Restarting...":"‚ü≤ Restart dnsmasq",re,ae,qe,Se;return{c(){e=c("form"),t=c("div"),l=c("div"),i=c("label"),i.textContent="DHCP Start IP",a=b(),r=c("input"),d=b(),u=c("div"),p=c("label"),p.textContent="DHCP End IP",m=b(),v=c("input"),_=b(),h=c("div"),g=c("div"),w=c("label"),w.textContent="Lease Time (seconds)",q=b(),y=c("input"),j=b(),C=c("small"),C.textContent="Minimum 60 seconds",z=b(),P=c("div"),M=c("label"),M.textContent="Local Domain",B=b(),D=c("input"),G=b(),H=c("div"),E=c("label"),E.textContent="DNS Servers (comma-separated)",V=b(),U=c("input"),F=b(),O=c("small"),O.textContent="Leave empty to use system default",X=b(),K=c("div"),I=c("div"),$=c("button"),oe=A(Y),se=b(),de=c("button"),_e=A("‚Ü∫ Reset"),Z=b(),ie=c("button"),re=A(ve),o(i,"for","dhcp-start"),o(i,"class","svelte-ulm4af"),o(r,"id","dhcp-start"),o(r,"type","text"),o(r,"placeholder","e.g., 192.168.100.50"),r.disabled=f=s[2]||s[3],o(r,"class","svelte-ulm4af"),o(l,"class","form-group svelte-ulm4af"),o(p,"for","dhcp-end"),o(p,"class","svelte-ulm4af"),o(v,"id","dhcp-end"),o(v,"type","text"),o(v,"placeholder","e.g., 192.168.100.200"),v.disabled=k=s[2]||s[3],o(v,"class","svelte-ulm4af"),o(u,"class","form-group svelte-ulm4af"),o(t,"class","form-row svelte-ulm4af"),o(w,"for","lease-time"),o(w,"class","svelte-ulm4af"),o(y,"id","lease-time"),o(y,"type","number"),o(y,"placeholder","e.g., 3600"),o(y,"min","60"),y.disabled=S=s[2]||s[3],o(y,"class","svelte-ulm4af"),o(C,"class","svelte-ulm4af"),o(g,"class","form-group svelte-ulm4af"),o(M,"for","local-domain"),o(M,"class","svelte-ulm4af"),o(D,"id","local-domain"),o(D,"type","text"),o(D,"placeholder","e.g., piwifi.local"),D.disabled=W=s[2]||s[3],o(D,"class","svelte-ulm4af"),o(P,"class","form-group svelte-ulm4af"),o(h,"class","form-row svelte-ulm4af"),o(E,"for","dns-servers"),o(E,"class","svelte-ulm4af"),o(U,"id","dns-servers"),o(U,"type","text"),o(U,"placeholder","e.g., 8.8.8.8, 8.8.4.4"),U.disabled=J=s[2]||s[3],o(U,"class","svelte-ulm4af"),o(O,"class","svelte-ulm4af"),o(H,"class","form-group svelte-ulm4af"),o($,"type","submit"),o($,"class","btn btn-primary svelte-ulm4af"),$.disabled=fe=s[2]||s[3]||!s[8](),o(de,"type","button"),o(de,"class","btn btn-secondary svelte-ulm4af"),de.disabled=be=s[2]||s[3]||!s[8](),o(I,"class","primary-buttons svelte-ulm4af"),o(ie,"type","button"),o(ie,"class","btn btn-danger svelte-ulm4af"),ie.disabled=ae=s[2]||s[3],o(K,"class","button-group svelte-ulm4af"),o(e,"class","svelte-ulm4af")},m(Q,x){L(Q,e,x),n(e,t),n(t,l),n(l,i),n(l,a),n(l,r),te(r,s[0].dhcp_start),n(t,d),n(t,u),n(u,p),n(u,m),n(u,v),te(v,s[0].dhcp_end),n(e,_),n(e,h),n(h,g),n(g,w),n(g,q),n(g,y),te(y,s[0].lease_time),n(g,j),n(g,C),n(h,z),n(h,P),n(P,M),n(P,B),n(P,D),te(D,s[0].local_domain),n(e,G),n(e,H),n(H,E),n(H,V),n(H,U),te(U,s[0].dns_servers),n(H,F),n(H,O),n(e,X),n(e,K),n(K,I),n(I,$),n($,oe),n(I,se),n(I,de),n(de,_e),n(K,Z),n(K,ie),n(ie,re),qe||(Se=[R(r,"input",s[11]),R(v,"input",s[12]),R(y,"input",s[13]),R(D,"input",s[14]),R(U,"input",s[15]),R(de,"click",s[9]),R(ie,"click",s[7]),R(e,"submit",wl(s[6]))],qe=!0)},p(Q,x){x&12&&f!==(f=Q[2]||Q[3])&&(r.disabled=f),x&1&&r.value!==Q[0].dhcp_start&&te(r,Q[0].dhcp_start),x&12&&k!==(k=Q[2]||Q[3])&&(v.disabled=k),x&1&&v.value!==Q[0].dhcp_end&&te(v,Q[0].dhcp_end),x&12&&S!==(S=Q[2]||Q[3])&&(y.disabled=S),x&1&&He(y.value)!==Q[0].lease_time&&te(y,Q[0].lease_time),x&12&&W!==(W=Q[2]||Q[3])&&(D.disabled=W),x&1&&D.value!==Q[0].local_domain&&te(D,Q[0].local_domain),x&12&&J!==(J=Q[2]||Q[3])&&(U.disabled=J),x&1&&U.value!==Q[0].dns_servers&&te(U,Q[0].dns_servers),x&4&&Y!==(Y=Q[2]?"‚è≥ Saving...":"üíæ Save Configuration")&&N(oe,Y),x&12&&fe!==(fe=Q[2]||Q[3]||!Q[8]())&&($.disabled=fe),x&12&&be!==(be=Q[2]||Q[3]||!Q[8]())&&(de.disabled=be),x&8&&ve!==(ve=Q[3]?"‚è≥ Restarting...":"‚ü≤ Restart dnsmasq")&&N(re,ve),x&12&&ae!==(ae=Q[2]||Q[3])&&(ie.disabled=ae)},d(Q){Q&&T(e),qe=!1,me(Se)}}}function gs(s){let e;return{c(){e=c("div"),e.innerHTML='<div class="spinner svelte-ulm4af"></div> <p>Loading configuration...</p>',o(e,"class","loading-spinner svelte-ulm4af")},m(t,l){L(t,e,l)},p:ee,d(t){t&&T(e)}}}function ks(s){let e,t,l,i,a,r,f,d,u,p,m=s[4]&&Tt(s),v=s[5]&&At(s);function k(g,w){return g[1]?gs:bs}let _=k(s),h=_(s);return{c(){e=c("div"),t=c("div"),t.innerHTML='<h2 class="svelte-ulm4af">DHCP &amp; DNS Configuration</h2> <p class="subtitle svelte-ulm4af">Manage dnsmasq DHCP and DNS server settings</p>',l=b(),m&&m.c(),i=b(),v&&v.c(),a=b(),r=c("div"),f=c("h3"),f.textContent="Current Configuration",d=b(),h.c(),u=b(),p=c("div"),p.innerHTML='<h3 class="svelte-ulm4af">Information</h3> <div class="info-grid svelte-ulm4af"><div class="info-item svelte-ulm4af"><span class="label svelte-ulm4af">Service:</span> <span class="value svelte-ulm4af">dnsmasq</span></div> <div class="info-item svelte-ulm4af"><span class="label svelte-ulm4af">Configuration File:</span> <span class="value svelte-ulm4af">/etc/dnsmasq.conf</span></div> <div class="info-item svelte-ulm4af"><span class="label svelte-ulm4af">Purpose:</span> <span class="value svelte-ulm4af">DHCP &amp; DNS server</span></div></div>',o(t,"class","panel-header svelte-ulm4af"),o(f,"class","svelte-ulm4af"),o(r,"class","card svelte-ulm4af"),o(p,"class","card svelte-ulm4af"),o(e,"class","dhcp-panel svelte-ulm4af")},m(g,w){L(g,e,w),n(e,t),n(e,l),m&&m.m(e,null),n(e,i),v&&v.m(e,null),n(e,a),n(e,r),n(r,f),n(r,d),h.m(r,null),n(e,u),n(e,p)},p(g,[w]){g[4]?m?m.p(g,w):(m=Tt(g),m.c(),m.m(e,i)):m&&(m.d(1),m=null),g[5]?v?v.p(g,w):(v=At(g),v.c(),v.m(e,a)):v&&(v.d(1),v=null),_===(_=k(g))&&h?h.p(g,w):(h.d(1),h=_(g),h&&(h.c(),h.m(r,null)))},i:ee,o:ee,d(g){g&&T(e),m&&m.d(),v&&v.d(),h.d()}}}function ws(s,e,t){const l=We();let{token:i}=e,a={dhcp_start:"",dhcp_end:"",lease_time:0,dns_servers:"",local_domain:""},r={...a},f=!1,d=!1,u=!1,p="",m="";Ae(()=>{v()});async function v(){t(1,f=!0),t(4,p="");try{const z=await(await fetch("/api/dhcp/config",{headers:{Authorization:`Bearer ${i}`}})).json();z.success?(t(0,a={dhcp_start:z.data.dhcp_start||"",dhcp_end:z.data.dhcp_end||"",lease_time:z.data.lease_time||0,dns_servers:z.data.dns_servers||"",local_domain:z.data.local_domain||""}),r={...a}):t(4,p=z.error||"Failed to load configuration")}catch(C){t(4,p=C.message)}finally{t(1,f=!1)}}async function k(){if(!a.dhcp_start||!a.dhcp_end){t(4,p="DHCP Start IP and End IP are required");return}if(!a.lease_time||a.lease_time<=0){t(4,p="Lease Time must be greater than 0");return}t(2,d=!0),t(4,p=""),t(5,m="");try{const z=await(await fetch("/api/dhcp/configure",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${i}`},body:JSON.stringify({dhcp_start:a.dhcp_start,dhcp_end:a.dhcp_end,lease_time:a.lease_time,dns_servers:a.dns_servers.split(",").map(P=>P.trim()).filter(P=>P.length>0),local_domain:a.local_domain})})).json();z.success?(t(5,m="‚úì Configuration saved successfully"),r={...a},l("refresh"),await new Promise(P=>setTimeout(P,2e3)),t(5,m="")):t(4,p=z.error||"Failed to save configuration")}catch(C){t(4,p=C.message)}finally{t(2,d=!1)}}async function _(){if(confirm("Are you sure you want to restart dnsmasq? Network services may be interrupted.")){t(3,u=!0),t(4,p=""),t(5,m="");try{const z=await(await fetch("/api/dhcp/restart",{method:"POST",headers:{Authorization:`Bearer ${i}`}})).json();z.success?(t(5,m="‚úì dnsmasq restarted successfully"),l("refresh"),await new Promise(P=>setTimeout(P,2e3)),t(5,m="")):t(4,p=z.error||"Failed to restart dnsmasq")}catch(C){t(4,p=C.message)}finally{t(3,u=!1)}}}function h(){return JSON.stringify(a)!==JSON.stringify(r)}function g(){t(0,a={...r}),t(4,p="")}function w(){a.dhcp_start=this.value,t(0,a)}function q(){a.dhcp_end=this.value,t(0,a)}function y(){a.lease_time=He(this.value),t(0,a)}function S(){a.local_domain=this.value,t(0,a)}function j(){a.dns_servers=this.value,t(0,a)}return s.$$set=C=>{"token"in C&&t(10,i=C.token)},[a,f,d,u,p,m,k,_,h,g,i,w,q,y,S,j]}class ys extends Ce{constructor(e){super(),ye(this,e,ws,ks,ge,{token:10})}}function Lt(s,e,t){const l=s.slice();return l[20]=e[t],l}function Dt(s,e,t){const l=s.slice();return l[20]=e[t],l}function Nt(s){let e,t,l,i,a,r,f,d;return{c(){e=c("div"),t=c("label"),t.textContent="Filter:",l=b(),i=c("input"),a=b(),r=c("button"),r.textContent="Apply",o(t,"class","svelte-110pz9t"),o(i,"type","text"),o(i,"placeholder","Leave empty for all"),o(i,"class","svelte-110pz9t"),o(r,"class","btn btn-secondary svelte-110pz9t"),o(e,"class","control-group svelte-110pz9t")},m(u,p){L(u,e,p),n(e,t),n(e,l),n(e,i),te(i,s[4]),n(e,a),n(e,r),f||(d=[R(i,"input",s[15]),R(r,"click",s[8])],f=!0)},p(u,p){p&16&&i.value!==u[4]&&te(i,u[4])},d(u){u&&T(e),f=!1,me(d)}}}function Cs(s){let e,t=[],l=new Map,i,a=ue(s[7]);const r=d=>d[20].timestamp;for(let d=0;d<a.length;d+=1){let u=Lt(s,a,d),p=r(u);l.set(p,t[d]=Rt(p,u))}let f=s[7].length===0&&s[5]&&Mt();return{c(){e=c("div");for(let d=0;d<t.length;d+=1)t[d].c();i=b(),f&&f.c(),o(e,"class","log-entries svelte-110pz9t")},m(d,u){L(d,e,u);for(let p=0;p<t.length;p+=1)t[p]&&t[p].m(e,null);n(e,i),f&&f.m(e,null)},p(d,u){u&128&&(a=ue(d[7]),t=Te(t,u,r,1,d,a,l,e,Pe,Rt,i,Lt)),d[7].length===0&&d[5]?f||(f=Mt(),f.c(),f.m(e,null)):f&&(f.d(1),f=null)},d(d){d&&T(e);for(let u=0;u<t.length;u+=1)t[u].d();f&&f.d()}}}function js(s){let e,t=[],l=new Map,i,a=ue(s[7]);const r=d=>d[20].timestamp;for(let d=0;d<a.length;d+=1){let u=Dt(s,a,d),p=r(u);l.set(p,t[d]=Bt(p,u))}let f=s[7].length===0&&s[5]&&Ft();return{c(){e=c("div");for(let d=0;d<t.length;d+=1)t[d].c();i=b(),f&&f.c(),o(e,"class","log-entries svelte-110pz9t")},m(d,u){L(d,e,u);for(let p=0;p<t.length;p+=1)t[p]&&t[p].m(e,null);n(e,i),f&&f.m(e,null)},p(d,u){u&128&&(a=ue(d[7]),t=Te(t,u,r,1,d,a,l,e,Pe,Bt,i,Dt)),d[7].length===0&&d[5]?f||(f=Ft(),f.c(),f.m(e,null)):f&&(f.d(1),f=null)},d(d){d&&T(e);for(let u=0;u<t.length;u+=1)t[u].d();f&&f.d()}}}function Ss(s){let e;return{c(){e=c("p"),e.textContent="Loading logs...",o(e,"class","muted svelte-110pz9t")},m(t,l){L(t,e,l)},p:ee,d(t){t&&T(e)}}}function zs(s){let e;return{c(){e=c("p"),e.textContent="No logs found. Click Refresh to load.",o(e,"class","muted svelte-110pz9t")},m(t,l){L(t,e,l)},p:ee,d(t){t&&T(e)}}}function Rt(s,e){let t,l,i=e[20].timestamp+"",a,r,f,d,u=e[20].level.toUpperCase()+"",p,m,v,k,_=e[20].message+"",h;return{key:s,first:null,c(){t=c("div"),l=c("span"),a=A(i),r=b(),f=c("span"),d=A("["),p=A(u),m=A("]"),v=b(),k=c("span"),h=A(_),o(l,"class","timestamp svelte-110pz9t"),o(f,"class","level svelte-110pz9t"),De(f,"color",Ye(e[20].level)),o(k,"class","message svelte-110pz9t"),o(t,"class","log-entry svelte-110pz9t"),this.first=t},m(g,w){L(g,t,w),n(t,l),n(l,a),n(t,r),n(t,f),n(f,d),n(f,p),n(f,m),n(t,v),n(t,k),n(k,h)},p(g,w){e=g,w&128&&i!==(i=e[20].timestamp+"")&&N(a,i),w&128&&u!==(u=e[20].level.toUpperCase()+"")&&N(p,u),w&128&&De(f,"color",Ye(e[20].level)),w&128&&_!==(_=e[20].message+"")&&N(h,_)},d(g){g&&T(t)}}}function Mt(s){let e;return{c(){e=c("p"),e.textContent="No logs match your search.",o(e,"class","muted svelte-110pz9t")},m(t,l){L(t,e,l)},d(t){t&&T(e)}}}function Bt(s,e){let t,l,i=e[20].timestamp+"",a,r,f,d,u=e[20].level.toUpperCase()+"",p,m,v,k,_=e[20].message+"",h;return{key:s,first:null,c(){t=c("div"),l=c("span"),a=A(i),r=b(),f=c("span"),d=A("["),p=A(u),m=A("]"),v=b(),k=c("span"),h=A(_),o(l,"class","timestamp svelte-110pz9t"),o(f,"class","level svelte-110pz9t"),De(f,"color",Ye(e[20].level)),o(k,"class","message svelte-110pz9t"),o(t,"class","log-entry svelte-110pz9t"),this.first=t},m(g,w){L(g,t,w),n(t,l),n(l,a),n(t,r),n(t,f),n(f,d),n(f,p),n(f,m),n(t,v),n(t,k),n(k,h)},p(g,w){e=g,w&128&&i!==(i=e[20].timestamp+"")&&N(a,i),w&128&&u!==(u=e[20].level.toUpperCase()+"")&&N(p,u),w&128&&De(f,"color",Ye(e[20].level)),w&128&&_!==(_=e[20].message+"")&&N(h,_)},d(g){g&&T(t)}}}function Ft(s){let e;return{c(){e=c("p"),e.textContent="No logs match your search.",o(e,"class","muted svelte-110pz9t")},m(t,l){L(t,e,l)},d(t){t&&T(e)}}}function qs(s){let e,t,l,i,a,r=s[3]?"‚è≥ Loading...":"üîÑ Refresh",f,d,u,p,m,v,k,_,h,g,w,q,y,S,j,C,z,P,M,B,D,W,G,H,E=s[2]==="system"&&Nt(s);function V(F,O){return F[0].length===0&&F[1].length===0&&!F[3]?zs:F[3]?Ss:F[2]==="system"?js:Cs}let U=V(s),J=U(s);return{c(){e=c("div"),t=c("div"),l=c("h2"),l.textContent="üìã System Logs",i=b(),a=c("button"),f=A(r),d=b(),u=c("div"),p=c("div"),m=c("label"),m.textContent="Lines to show:",v=b(),k=c("input"),_=b(),E&&E.c(),h=b(),g=c("div"),w=c("label"),w.textContent="Search:",q=b(),y=c("input"),S=b(),j=c("button"),j.textContent="üì• Export CSV",C=b(),z=c("div"),P=c("button"),P.textContent="PiWifi System",M=b(),B=c("button"),B.textContent="DHCP/DNS (dnsmasq)",D=b(),W=c("div"),J.c(),o(l,"class","svelte-110pz9t"),o(a,"class","btn btn-primary svelte-110pz9t"),a.disabled=s[3],o(t,"class","panel-header svelte-110pz9t"),o(m,"class","svelte-110pz9t"),o(k,"type","number"),o(k,"min","10"),o(k,"max","500"),o(k,"class","svelte-110pz9t"),o(p,"class","control-group svelte-110pz9t"),o(w,"class","svelte-110pz9t"),o(y,"type","text"),o(y,"placeholder","Search in logs"),o(y,"class","svelte-110pz9t"),o(g,"class","control-group svelte-110pz9t"),o(j,"class","btn btn-secondary svelte-110pz9t"),o(u,"class","controls svelte-110pz9t"),o(P,"class","tab-btn svelte-110pz9t"),ne(P,"active",s[2]==="system"),o(B,"class","tab-btn svelte-110pz9t"),ne(B,"active",s[2]==="dnsmasq"),o(z,"class","tabs svelte-110pz9t"),o(W,"class","logs-container svelte-110pz9t"),o(e,"class","log-viewer svelte-110pz9t")},m(F,O){L(F,e,O),n(e,t),n(t,l),n(t,i),n(t,a),n(a,f),n(e,d),n(e,u),n(u,p),n(p,m),n(p,v),n(p,k),te(k,s[6]),n(u,_),E&&E.m(u,null),n(u,h),n(u,g),n(g,w),n(g,q),n(g,y),te(y,s[5]),n(u,S),n(u,j),n(e,C),n(e,z),n(z,P),n(z,M),n(z,B),n(e,D),n(e,W),J.m(W,null),G||(H=[R(a,"click",s[13]),R(k,"input",s[14]),R(y,"input",s[16]),R(j,"click",s[11]),R(P,"click",s[17]),R(B,"click",s[18])],G=!0)},p(F,[O]){O&8&&r!==(r=F[3]?"‚è≥ Loading...":"üîÑ Refresh")&&N(f,r),O&8&&(a.disabled=F[3]),O&64&&He(k.value)!==F[6]&&te(k,F[6]),F[2]==="system"?E?E.p(F,O):(E=Nt(F),E.c(),E.m(u,h)):E&&(E.d(1),E=null),O&32&&y.value!==F[5]&&te(y,F[5]),O&4&&ne(P,"active",F[2]==="system"),O&4&&ne(B,"active",F[2]==="dnsmasq"),U===(U=V(F))&&J?J.p(F,O):(J.d(1),J=U(F),J&&(J.c(),J.m(W,null)))},i:ee,o:ee,d(F){F&&T(e),E&&E.d(),J.d(),G=!1,me(H)}}}function Ye(s){switch(s.toLowerCase()){case"error":return"#ef4444";case"warn":return"#f59e0b";case"info":return"#60a5fa";case"debug":return"#8b5cf6";default:return"#cbd5e1"}}function Ps(s,e,t){let{token:l}=e,i=[],a=[],r="system",f=!1,d="",u="",p=100,m=[];async function v(){t(3,f=!0);try{const P=await(await fetch(`/api/system/logs?lines=${p}&filter=${d}`,{headers:{Authorization:`Bearer ${l}`}})).json();P.success&&t(0,i=P.data||[])}catch(z){console.error("Failed to load system logs:",z)}finally{t(3,f=!1)}}async function k(){t(3,f=!0);try{const P=await(await fetch(`/api/system/logs/dnsmasq?lines=${p}`,{headers:{Authorization:`Bearer ${l}`}})).json();P.success&&t(1,a=P.data||[])}catch(z){console.error("Failed to load dnsmasq logs:",z)}finally{t(3,f=!1)}}function _(z){t(2,r=z),t(5,u=""),z==="system"?v():k()}function h(){const z=r==="system"?i:a;return u.trim()?z.filter(P=>P.message.toLowerCase().includes(u.toLowerCase())||P.level.toLowerCase().includes(u.toLowerCase())):z}function g(){const B=`"Timestamp","Level","Message"
`+h().map(W=>`"${W.timestamp}","${W.level}","${W.message.replace(/"/g,'""')}"`).join(`
`),D=document.createElement("a");D.setAttribute("href","data:text/csv;charset=utf-8,"+encodeURIComponent(B)),D.setAttribute("download",`logs-${r}-${new Date().toISOString().split("T")[0]}.csv`),D.style.display="none",document.body.appendChild(D),D.click(),document.body.removeChild(D)}Ae(()=>{v()});const w=()=>r==="system"?v():k();function q(){p=He(this.value),t(6,p)}function y(){d=this.value,t(4,d)}function S(){u=this.value,t(5,u)}const j=()=>_("system"),C=()=>_("dnsmasq");return s.$$set=z=>{"token"in z&&t(12,l=z.token)},t(7,m=h()),[i,a,r,f,d,u,p,m,v,k,_,g,l,w,q,y,S,j,C]}class Ts extends Ce{constructor(e){super(),ye(this,e,Ps,qs,ge,{token:12})}}function It(s,e,t){const l=s.slice();return l[11]=e[t],l}function Et(s,e,t){const l=s.slice();return l[14]=e[t],l}function Ot(s){let e;function t(a,r){return a[0].length===0&&!a[3]?Ds:a[3]?Ls:As}let l=t(s),i=l(s);return{c(){e=c("div"),i.c(),o(e,"class","content svelte-lmtjgr")},m(a,r){L(a,e,r),i.m(e,null)},p(a,r){l===(l=t(a))&&i?i.p(a,r):(i.d(1),i=l(a),i&&(i.c(),i.m(e,null)))},d(a){a&&T(e),i.d()}}}function As(s){let e,t=[],l=new Map,i,a,r,f,d=ue(s[0]);const u=p=>p[14].timestamp;for(let p=0;p<d.length;p+=1){let m=Et(s,d,p),v=u(m);l.set(v,t[p]=Ut(v,m))}return{c(){e=c("div");for(let p=0;p<t.length;p+=1)t[p].c();i=b(),a=c("button"),a.textContent="üóëÔ∏è Clear All History",o(e,"class","history-list svelte-lmtjgr"),o(a,"class","btn btn-danger svelte-lmtjgr")},m(p,m){L(p,e,m);for(let v=0;v<t.length;v+=1)t[v]&&t[v].m(e,null);L(p,i,m),L(p,a,m),r||(f=R(a,"click",s[6]),r=!0)},p(p,m){m&1&&(d=ue(p[0]),t=Te(t,m,u,1,p,d,l,e,Pe,Ut,null,Et))},d(p){p&&(T(e),T(i),T(a));for(let m=0;m<t.length;m+=1)t[m].d();r=!1,f()}}}function Ls(s){let e;return{c(){e=c("p"),e.textContent="Loading history...",o(e,"class","muted svelte-lmtjgr")},m(t,l){L(t,e,l)},p:ee,d(t){t&&T(e)}}}function Ds(s){let e;return{c(){e=c("p"),e.textContent="No connection history yet. Connect to a WiFi network to start tracking.",o(e,"class","muted svelte-lmtjgr")},m(t,l){L(t,e,l)},p:ee,d(t){t&&T(e)}}}function Ht(s){let e,t,l=Vt(s[14].duration_seconds)+"",i;return{c(){e=c("span"),t=A("Duration: "),i=A(l),o(e,"class","duration svelte-lmtjgr")},m(a,r){L(a,e,r),n(e,t),n(e,i)},p(a,r){r&1&&l!==(l=Vt(a[14].duration_seconds)+"")&&N(i,l)},d(a){a&&T(e)}}}function Wt(s){let e,t,l=s[14].disconnection_reason+"",i;return{c(){e=c("span"),t=A("Reason: "),i=A(l),o(e,"class","reason svelte-lmtjgr")},m(a,r){L(a,e,r),n(e,t),n(e,i)},p(a,r){r&1&&l!==(l=a[14].disconnection_reason+"")&&N(i,l)},d(a){a&&T(e)}}}function Ut(s,e){let t,l,i,a=e[14].ssid+"",r,f,d,u=e[14].success?"‚úÖ Success":"‚ùå Failed",p,m,v,k,_=Gt(e[14].timestamp)+"",h,g,w,q,y=e[14].duration_seconds&&Ht(e),S=e[14].disconnection_reason&&Wt(e);return{key:s,first:null,c(){t=c("div"),l=c("div"),i=c("span"),r=A(a),f=b(),d=c("span"),p=A(u),m=b(),v=c("div"),k=c("span"),h=A(_),g=b(),y&&y.c(),w=b(),S&&S.c(),q=b(),o(i,"class","ssid svelte-lmtjgr"),o(d,"class","status svelte-lmtjgr"),ne(d,"success",e[14].success),ne(d,"failed",!e[14].success),o(l,"class","item-header svelte-lmtjgr"),o(k,"class","time svelte-lmtjgr"),o(v,"class","item-details svelte-lmtjgr"),o(t,"class","history-item svelte-lmtjgr"),this.first=t},m(j,C){L(j,t,C),n(t,l),n(l,i),n(i,r),n(l,f),n(l,d),n(d,p),n(t,m),n(t,v),n(v,k),n(k,h),n(v,g),y&&y.m(v,null),n(v,w),S&&S.m(v,null),n(t,q)},p(j,C){e=j,C&1&&a!==(a=e[14].ssid+"")&&N(r,a),C&1&&u!==(u=e[14].success?"‚úÖ Success":"‚ùå Failed")&&N(p,u),C&1&&ne(d,"success",e[14].success),C&1&&ne(d,"failed",!e[14].success),C&1&&_!==(_=Gt(e[14].timestamp)+"")&&N(h,_),e[14].duration_seconds?y?y.p(e,C):(y=Ht(e),y.c(),y.m(v,w)):y&&(y.d(1),y=null),e[14].disconnection_reason?S?S.p(e,C):(S=Wt(e),S.c(),S.m(v,null)):S&&(S.d(1),S=null)},d(j){j&&T(t),y&&y.d(),S&&S.d()}}}function Jt(s){let e;function t(a,r){return a[1].length===0&&!a[3]?Ms:a[3]?Rs:Ns}let l=t(s),i=l(s);return{c(){e=c("div"),i.c(),o(e,"class","content svelte-lmtjgr")},m(a,r){L(a,e,r),i.m(e,null)},p(a,r){l===(l=t(a))&&i?i.p(a,r):(i.d(1),i=l(a),i&&(i.c(),i.m(e,null)))},d(a){a&&T(e),i.d()}}}function Ns(s){let e,t=ue(s[1]),l=[];for(let i=0;i<t.length;i+=1)l[i]=Xt(It(s,t,i));return{c(){e=c("div");for(let i=0;i<l.length;i+=1)l[i].c();o(e,"class","favorites-grid svelte-lmtjgr")},m(i,a){L(i,e,a);for(let r=0;r<l.length;r+=1)l[r]&&l[r].m(e,null)},p(i,a){if(a&2){t=ue(i[1]);let r;for(r=0;r<t.length;r+=1){const f=It(i,t,r);l[r]?l[r].p(f,a):(l[r]=Xt(f),l[r].c(),l[r].m(e,null))}for(;r<l.length;r+=1)l[r].d(1);l.length=t.length}},d(i){i&&T(e),ql(l,i)}}}function Rs(s){let e;return{c(){e=c("p"),e.textContent="Loading favorites...",o(e,"class","muted svelte-lmtjgr")},m(t,l){L(t,e,l)},p:ee,d(t){t&&T(e)}}}function Ms(s){let e;return{c(){e=c("p"),e.textContent="No favorite networks yet. Connect to networks to build history.",o(e,"class","muted svelte-lmtjgr")},m(t,l){L(t,e,l)},p:ee,d(t){t&&T(e)}}}function Xt(s){let e,t,l,i=s[11].ssid+"",a,r,f,d,u,p,m,v=s[11].connection_count+"",k,_,h,g,w,q,y=s[11].success_rate.toFixed(1)+"",S,j,C,z,P,M;return{c(){e=c("div"),t=c("div"),l=c("h4"),a=A(i),r=b(),f=c("div"),d=c("div"),u=c("span"),u.textContent="Connections",p=b(),m=c("span"),k=A(v),_=b(),h=c("div"),g=c("span"),g.textContent="Success Rate",w=b(),q=c("span"),S=A(y),j=A("%"),C=b(),z=c("div"),P=c("div"),M=b(),o(l,"class","svelte-lmtjgr"),o(t,"class","card-header svelte-lmtjgr"),o(u,"class","label svelte-lmtjgr"),o(m,"class","value svelte-lmtjgr"),o(d,"class","stat svelte-lmtjgr"),o(g,"class","label svelte-lmtjgr"),o(q,"class","value svelte-lmtjgr"),o(h,"class","stat svelte-lmtjgr"),o(f,"class","card-stats svelte-lmtjgr"),o(P,"class","progress-fill svelte-lmtjgr"),De(P,"width",s[11].success_rate+"%"),o(z,"class","progress-bar svelte-lmtjgr"),o(e,"class","favorite-card svelte-lmtjgr")},m(B,D){L(B,e,D),n(e,t),n(t,l),n(l,a),n(e,r),n(e,f),n(f,d),n(d,u),n(d,p),n(d,m),n(m,k),n(f,_),n(f,h),n(h,g),n(h,w),n(h,q),n(q,S),n(q,j),n(e,C),n(e,z),n(z,P),n(e,M)},p(B,D){D&2&&i!==(i=B[11].ssid+"")&&N(a,i),D&2&&v!==(v=B[11].connection_count+"")&&N(k,v),D&2&&y!==(y=B[11].success_rate.toFixed(1)+"")&&N(S,y),D&2&&De(P,"width",B[11].success_rate+"%")},d(B){B&&T(e)}}}function Bs(s){let e,t,l,i,a,r=s[3]?"‚è≥ Loading...":"üîÑ Refresh",f,d,u,p,m,v,k,_,h,g,w=s[2]==="history"&&Ot(s),q=s[2]==="favorites"&&Jt(s);return{c(){e=c("div"),t=c("div"),l=c("h2"),l.textContent="‚è±Ô∏è WiFi Connection History",i=b(),a=c("button"),f=A(r),d=b(),u=c("div"),p=c("button"),p.textContent="üìã Recent Connections",m=b(),v=c("button"),v.textContent="‚≠ê Favorite Networks",k=b(),w&&w.c(),_=b(),q&&q.c(),o(l,"class","svelte-lmtjgr"),o(a,"class","btn btn-primary svelte-lmtjgr"),a.disabled=s[3],o(t,"class","panel-header svelte-lmtjgr"),o(p,"class","tab-btn svelte-lmtjgr"),ne(p,"active",s[2]==="history"),o(v,"class","tab-btn svelte-lmtjgr"),ne(v,"active",s[2]==="favorites"),o(u,"class","tabs svelte-lmtjgr"),o(e,"class","history-panel svelte-lmtjgr")},m(y,S){L(y,e,S),n(e,t),n(t,l),n(t,i),n(t,a),n(a,f),n(e,d),n(e,u),n(u,p),n(u,m),n(u,v),n(e,k),w&&w.m(e,null),n(e,_),q&&q.m(e,null),h||(g=[R(a,"click",s[8]),R(p,"click",s[9]),R(v,"click",s[10])],h=!0)},p(y,[S]){S&8&&r!==(r=y[3]?"‚è≥ Loading...":"üîÑ Refresh")&&N(f,r),S&8&&(a.disabled=y[3]),S&4&&ne(p,"active",y[2]==="history"),S&4&&ne(v,"active",y[2]==="favorites"),y[2]==="history"?w?w.p(y,S):(w=Ot(y),w.c(),w.m(e,_)):w&&(w.d(1),w=null),y[2]==="favorites"?q?q.p(y,S):(q=Jt(y),q.c(),q.m(e,null)):q&&(q.d(1),q=null)},i:ee,o:ee,d(y){y&&T(e),w&&w.d(),q&&q.d(),h=!1,me(g)}}}function Gt(s){const e=new Date(s),l=(new Date().getTime()-e.getTime())/1e3;return l<60?"just now":l<3600?`${Math.floor(l/60)}m ago`:l<86400?`${Math.floor(l/3600)}h ago`:l<604800?`${Math.floor(l/86400)}d ago`:e.toLocaleDateString()}function Vt(s){if(!s)return"‚Äî";const e=Math.floor(s/3600),t=Math.floor(s%3600/60),l=s%60;return e>0?`${e}h ${t}m`:t>0?`${t}m ${l}s`:`${l}s`}function Fs(s,e,t){let{token:l}=e,i=[],a=[],r="history",f=!1;async function d(){t(3,f=!0);try{const h=await(await fetch("/api/wifi/history",{headers:{Authorization:`Bearer ${l}`}})).json();h.success&&t(0,i=h.data||[])}catch(_){console.error("Failed to load history:",_)}finally{t(3,f=!1)}}async function u(){t(3,f=!0);try{const h=await(await fetch("/api/wifi/favorites",{headers:{Authorization:`Bearer ${l}`}})).json();h.success&&t(1,a=h.data||[])}catch(_){console.error("Failed to load favorites:",_)}finally{t(3,f=!1)}}async function p(){if(confirm("Are you sure? This will delete all connection history."))try{(await(await fetch("/api/wifi/history/clear",{method:"POST",headers:{Authorization:`Bearer ${l}`}})).json()).success&&(t(0,i=[]),t(1,a=[]))}catch(_){console.error("Failed to clear history:",_)}}Ae(()=>{d()});const m=()=>r==="history"?d():u(),v=()=>{t(2,r="history"),d()},k=()=>{t(2,r="favorites"),u()};return s.$$set=_=>{"token"in _&&t(7,l=_.token)},[i,a,r,f,d,u,p,l,m,v,k]}class Is extends Ce{constructor(e){super(),ye(this,e,Fs,Bs,ge,{token:7})}}function Kt(s,e,t){const l=s.slice();return l[10]=e[t],l}function Yt(s){let e,t;return{c(){e=c("div"),t=A(s[2]),o(e,"class","error-message svelte-hebayl")},m(l,i){L(l,e,i),n(e,t)},p(l,i){i&4&&N(t,l[2])},d(l){l&&T(e)}}}function Es(s){let e,t,l,i,a,r=s[0].length+"",f,d,u,p,m,v,k,_,h,g,w,q,y,S,j,C=[],z=new Map,P,M,B,D,W=ue(s[0]);const G=H=>H[10].mac;for(let H=0;H<W.length;H+=1){let E=Kt(s,W,H),V=G(E);z.set(V,C[H]=Qt(V,E))}return{c(){e=c("div"),t=c("div"),l=c("span"),l.textContent="Total Devices",i=b(),a=c("span"),f=A(r),d=b(),u=c("div"),p=c("table"),m=c("thead"),v=c("tr"),k=c("th"),k.textContent="Hostname ‚Üï",_=b(),h=c("th"),h.textContent="IP Address ‚Üï",g=b(),w=c("th"),w.textContent="MAC Address ‚Üï",q=b(),y=c("th"),y.textContent="Lease Expires ‚Üï",S=b(),j=c("tbody");for(let H=0;H<C.length;H+=1)C[H].c();P=b(),M=c("div"),M.innerHTML='<p class="svelte-hebayl">üí° Click column headers to sort. Hostnames from DHCP leases and ARP table.</p>',o(l,"class","label svelte-hebayl"),o(a,"class","value svelte-hebayl"),o(t,"class","stat-box svelte-hebayl"),o(e,"class","stats svelte-hebayl"),o(k,"class","svelte-hebayl"),o(h,"class","svelte-hebayl"),o(w,"class","svelte-hebayl"),o(y,"class","svelte-hebayl"),o(v,"class","svelte-hebayl"),o(m,"class","svelte-hebayl"),o(p,"class","clients-table svelte-hebayl"),o(u,"class","table-wrapper svelte-hebayl"),o(M,"class","info-box svelte-hebayl")},m(H,E){L(H,e,E),n(e,t),n(t,l),n(t,i),n(t,a),n(a,f),L(H,d,E),L(H,u,E),n(u,p),n(p,m),n(m,v),n(v,k),n(v,_),n(v,h),n(v,g),n(v,w),n(v,q),n(v,y),n(p,S),n(p,j);for(let V=0;V<C.length;V+=1)C[V]&&C[V].m(j,null);L(H,P,E),L(H,M,E),B||(D=[R(k,"click",s[6]),R(h,"click",s[7]),R(w,"click",s[8]),R(y,"click",s[9])],B=!0)},p(H,E){E&1&&r!==(r=H[0].length+"")&&N(f,r),E&1&&(W=ue(H[0]),C=Te(C,E,G,1,H,W,z,j,Pe,Qt,null,Kt))},d(H){H&&(T(e),T(d),T(u),T(P),T(M));for(let E=0;E<C.length;E+=1)C[E].d();B=!1,me(D)}}}function Os(s){let e;return{c(){e=c("p"),e.textContent="No connected clients found",o(e,"class","muted svelte-hebayl")},m(t,l){L(t,e,l)},p:ee,d(t){t&&T(e)}}}function Hs(s){let e;return{c(){e=c("p"),e.textContent="Loading connected clients...",o(e,"class","muted svelte-hebayl")},m(t,l){L(t,e,l)},p:ee,d(t){t&&T(e)}}}function Ws(s){let e=s[10].hostname+"",t;return{c(){t=A(e)},m(l,i){L(l,t,i)},p(l,i){i&1&&e!==(e=l[10].hostname+"")&&N(t,e)},d(l){l&&T(t)}}}function Us(s){let e,t=s[10].hostname+"",l;return{c(){e=c("span"),l=A(t),o(e,"class","muted svelte-hebayl")},m(i,a){L(i,e,a),n(e,l)},p(i,a){a&1&&t!==(t=i[10].hostname+"")&&N(l,t)},d(i){i&&T(e)}}}function Qt(s,e){let t,l,i,a,r,f=e[10].ip+"",d,u,p,m,v=e[10].mac+"",k,_,h,g=e[10].lease_expires+"",w,q;function y(C,z){return C[10].hostname==="N/A"?Us:Ws}let S=y(e),j=S(e);return{key:s,first:null,c(){t=c("tr"),l=c("td"),j.c(),i=b(),a=c("td"),r=c("code"),d=A(f),u=b(),p=c("td"),m=c("code"),k=A(v),_=b(),h=c("td"),w=A(g),q=b(),o(l,"class","hostname svelte-hebayl"),o(r,"class","svelte-hebayl"),o(a,"class","ip-address svelte-hebayl"),o(m,"class","svelte-hebayl"),o(p,"class","mac-address svelte-hebayl"),o(h,"class","lease-expires svelte-hebayl"),o(t,"class","svelte-hebayl"),this.first=t},m(C,z){L(C,t,z),n(t,l),j.m(l,null),n(t,i),n(t,a),n(a,r),n(r,d),n(t,u),n(t,p),n(p,m),n(m,k),n(t,_),n(t,h),n(h,w),n(t,q)},p(C,z){e=C,S===(S=y(e))&&j?j.p(e,z):(j.d(1),j=S(e),j&&(j.c(),j.m(l,null))),z&1&&f!==(f=e[10].ip+"")&&N(d,f),z&1&&v!==(v=e[10].mac+"")&&N(k,v),z&1&&g!==(g=e[10].lease_expires+"")&&N(w,g)},d(C){C&&T(t),j.d()}}}function Js(s){let e,t,l,i,a,r=s[1]?"‚è≥ Loading...":"üîÑ Refresh",f,d,u,p,m,v=s[2]&&Yt(s);function k(g,w){return g[1]?Hs:g[0].length===0?Os:Es}let _=k(s),h=_(s);return{c(){e=c("div"),t=c("div"),l=c("h2"),l.textContent="üñ•Ô∏è Connected Clients",i=b(),a=c("button"),f=A(r),d=b(),v&&v.c(),u=b(),h.c(),o(l,"class","svelte-hebayl"),o(a,"class","btn btn-primary svelte-hebayl"),a.disabled=s[1],o(t,"class","panel-header svelte-hebayl"),o(e,"class","clients-panel svelte-hebayl")},m(g,w){L(g,e,w),n(e,t),n(t,l),n(t,i),n(t,a),n(a,f),n(e,d),v&&v.m(e,null),n(e,u),h.m(e,null),p||(m=R(a,"click",s[3]),p=!0)},p(g,[w]){w&2&&r!==(r=g[1]?"‚è≥ Loading...":"üîÑ Refresh")&&N(f,r),w&2&&(a.disabled=g[1]),g[2]?v?v.p(g,w):(v=Yt(g),v.c(),v.m(e,u)):v&&(v.d(1),v=null),_===(_=k(g))&&h?h.p(g,w):(h.d(1),h=_(g),h&&(h.c(),h.m(e,null)))},i:ee,o:ee,d(g){g&&T(e),v&&v.d(),h.d(),p=!1,m()}}}function Xs(s,e,t){let{token:l}=e,i=[],a=!1,r="";async function f(){t(1,a=!0),t(2,r="");try{const _=await(await fetch("/api/network/clients",{headers:{Authorization:`Bearer ${l}`}})).json();_.success?t(0,i=_.data||[]):t(2,r=_.error||"Failed to load clients")}catch(k){t(2,r=k.message)}finally{t(1,a=!1)}}function d(k){i.sort((_,h)=>{const g=_[k],w=h[k];return typeof g=="string"?g.localeCompare(w):g-w}),t(0,i)}Ae(()=>{f()});const u=()=>d("hostname"),p=()=>d("ip"),m=()=>d("mac"),v=()=>d("lease_expires");return s.$$set=k=>{"token"in k&&t(5,l=k.token)},[i,a,r,f,d,l,u,p,m,v]}class Gs extends Ce{constructor(e){super(),ye(this,e,Xs,Js,ge,{token:5})}}function Zt(s){let e,t;return{c(){e=c("div"),t=A(s[4]),o(e,"class","error-message svelte-wd3jm5")},m(l,i){L(l,e,i),n(e,t)},p(l,i){i&16&&N(t,l[4])},d(l){l&&T(e)}}}function $t(s){let e,t;return{c(){e=c("div"),t=A(s[5]),o(e,"class","success-message svelte-wd3jm5")},m(l,i){L(l,e,i),n(e,t)},p(l,i){i&32&&N(t,l[5])},d(l){l&&T(e)}}}function xt(s){let e,t,l,i,a,r,f,d,u,p,m,v,k;return{c(){e=c("div"),t=c("p"),t.textContent="Backup JSON:",l=b(),i=c("textarea"),a=b(),r=c("div"),f=c("button"),f.textContent="‚¨áÔ∏è Download",d=b(),u=c("button"),u.textContent="üìã Copy",p=b(),m=c("button"),m.textContent="‚úï Hide",o(t,"class","section-label svelte-wd3jm5"),i.readOnly=!0,o(i,"class","backup-textarea svelte-wd3jm5"),o(f,"class","btn btn-secondary svelte-wd3jm5"),o(u,"class","btn btn-secondary svelte-wd3jm5"),o(m,"class","btn btn-secondary svelte-wd3jm5"),o(r,"class","button-group svelte-wd3jm5"),o(e,"class","backup-section svelte-wd3jm5")},m(_,h){L(_,e,h),n(e,t),n(e,l),n(e,i),te(i,s[1]),n(e,a),n(e,r),n(r,f),n(r,d),n(r,u),n(r,p),n(r,m),v||(k=[R(i,"input",s[12]),R(f,"click",s[7]),R(u,"click",s[8]),R(m,"click",s[13])],v=!0)},p(_,h){h&2&&te(i,_[1])},d(_){_&&T(e),v=!1,me(k)}}}function Vs(s){let e,t,l,i,a,r,f,d,u,p,m,v,k=s[3]?"‚è≥ Creating backup...":"üì• Create Backup",_,h,g,w,q,y,S,j,C,z,P,M,B,D,W,G=s[3]?"‚è≥ Restoring...":"üîÑ Restore",H,E,V,U,J,F,O,X,K=s[4]&&Zt(s),I=s[5]&&$t(s),$=s[0]&&xt(s);return{c(){e=c("div"),t=c("div"),t.innerHTML='<h2 class="svelte-wd3jm5">üíæ Configuration Backup &amp; Restore</h2>',l=b(),K&&K.c(),i=b(),I&&I.c(),a=b(),r=c("div"),f=c("div"),d=c("h3"),d.textContent="üì§ Backup Configuration",u=b(),p=c("p"),p.textContent="Export all settings (WiFi history, DHCP config, network settings)",m=b(),v=c("button"),_=A(k),h=b(),$&&$.c(),g=b(),w=c("div"),q=c("h3"),q.textContent="üì• Restore Configuration",y=b(),S=c("p"),S.textContent="Paste a previously created backup to restore settings",j=b(),C=c("div"),z=c("label"),z.textContent="Backup JSON:",P=b(),M=c("textarea"),B=b(),D=c("div"),W=c("button"),H=A(G),V=b(),U=c("button"),U.textContent="Clear",J=b(),F=c("div"),F.innerHTML=`<p class="svelte-wd3jm5"><strong>üí° How to use:</strong><br/>
      1. Click &quot;Create Backup&quot; to export all your settings<br/>
      2. Save the file somewhere safe (email, cloud, USB drive)<br/>
      3. To restore: Click &quot;Create Backup&quot; on another Pi, paste the old backup, and click &quot;Restore&quot;<br/> <br/> <strong>‚ö†Ô∏è Warning:</strong> Restoring will overwrite all current settings including WiFi history and
      DHCP config</p>`,o(t,"class","panel-header svelte-wd3jm5"),o(d,"class","svelte-wd3jm5"),o(p,"class","description svelte-wd3jm5"),o(v,"class","btn btn-primary svelte-wd3jm5"),v.disabled=s[3],o(f,"class","card svelte-wd3jm5"),o(q,"class","svelte-wd3jm5"),o(S,"class","description svelte-wd3jm5"),o(z,"class","svelte-wd3jm5"),o(M,"placeholder","Paste backup JSON here..."),o(M,"class","restore-textarea svelte-wd3jm5"),o(C,"class","form-group svelte-wd3jm5"),o(W,"class","btn btn-primary svelte-wd3jm5"),W.disabled=E=s[3]||!s[2].trim(),o(U,"class","btn btn-secondary svelte-wd3jm5"),o(D,"class","button-group svelte-wd3jm5"),o(w,"class","card svelte-wd3jm5"),o(r,"class","grid svelte-wd3jm5"),o(F,"class","info-box svelte-wd3jm5"),o(e,"class","config-panel svelte-wd3jm5")},m(Y,oe){L(Y,e,oe),n(e,t),n(e,l),K&&K.m(e,null),n(e,i),I&&I.m(e,null),n(e,a),n(e,r),n(r,f),n(f,d),n(f,u),n(f,p),n(f,m),n(f,v),n(v,_),n(f,h),$&&$.m(f,null),n(r,g),n(r,w),n(w,q),n(w,y),n(w,S),n(w,j),n(w,C),n(C,z),n(C,P),n(C,M),te(M,s[2]),n(w,B),n(w,D),n(D,W),n(W,H),n(D,V),n(D,U),n(e,J),n(e,F),O||(X=[R(v,"click",s[6]),R(M,"input",s[14]),R(W,"click",s[9]),R(U,"click",s[10])],O=!0)},p(Y,[oe]){Y[4]?K?K.p(Y,oe):(K=Zt(Y),K.c(),K.m(e,i)):K&&(K.d(1),K=null),Y[5]?I?I.p(Y,oe):(I=$t(Y),I.c(),I.m(e,a)):I&&(I.d(1),I=null),oe&8&&k!==(k=Y[3]?"‚è≥ Creating backup...":"üì• Create Backup")&&N(_,k),oe&8&&(v.disabled=Y[3]),Y[0]?$?$.p(Y,oe):($=xt(Y),$.c(),$.m(f,null)):$&&($.d(1),$=null),oe&4&&te(M,Y[2]),oe&8&&G!==(G=Y[3]?"‚è≥ Restoring...":"üîÑ Restore")&&N(H,G),oe&12&&E!==(E=Y[3]||!Y[2].trim())&&(W.disabled=E)},i:ee,o:ee,d(Y){Y&&T(e),K&&K.d(),I&&I.d(),$&&$.d(),O=!1,me(X)}}}function Ks(s,e,t){let{token:l}=e,i=!1,a="",r="",f=!1,d="",u="";async function p(){t(3,f=!0),t(4,d="");try{const y=await(await fetch("/api/config/backup",{method:"POST",headers:{Authorization:`Bearer ${l}`}})).json();y.success?(t(1,a=y.data),t(0,i=!0),t(5,u="‚úì Backup created successfully"),setTimeout(()=>t(5,u=""),3e3)):t(4,d=y.error||"Backup failed")}catch(q){t(4,d=q.message)}finally{t(3,f=!1)}}function m(){const q=document.createElement("a");q.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(a)),q.setAttribute("download",`piwifi-backup-${new Date().toISOString().split("T")[0]}.json`),q.style.display="none",document.body.appendChild(q),q.click(),document.body.removeChild(q)}function v(){navigator.clipboard.writeText(a),t(5,u="‚úì Copied to clipboard"),setTimeout(()=>t(5,u=""),2e3)}async function k(){if(!r.trim()){t(4,d="Please paste a backup JSON");return}t(3,f=!0),t(4,d="");try{const q=JSON.parse(r),S=await(await fetch("/api/config/restore",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${l}`},body:JSON.stringify(q)})).json();S.success?(t(5,u="‚úì Configuration restored successfully"),t(2,r=""),setTimeout(()=>t(5,u=""),3e3)):t(4,d=S.error||"Restore failed")}catch(q){q instanceof SyntaxError?t(4,d="Invalid JSON format"):t(4,d=q.message)}finally{t(3,f=!1)}}function _(){t(2,r="")}function h(){a=this.value,t(1,a)}const g=()=>t(0,i=!1);function w(){r=this.value,t(2,r)}return s.$$set=q=>{"token"in q&&t(11,l=q.token)},[i,a,r,f,d,u,p,m,v,k,_,l,h,g,w]}class Ys extends Ce{constructor(e){super(),ye(this,e,Ks,Vs,ge,{token:11})}}function el(s,e,t){const l=s.slice();return l[23]=e[t],l}function tl(s){let e,t;return{c(){e=c("div"),t=A(s[2]),o(e,"class","error-message svelte-jbdjzi")},m(l,i){L(l,e,i),n(e,t)},p(l,i){i&4&&N(t,l[2])},d(l){l&&T(e)}}}function ll(s){let e,t;return{c(){e=c("div"),t=A(s[3]),o(e,"class","success-message svelte-jbdjzi")},m(l,i){L(l,e,i),n(e,t)},p(l,i){i&8&&N(t,l[3])},d(l){l&&T(e)}}}function Qs(s){let e,t=[],l=new Map,i=ue(s[0]);const a=r=>r[23].mac;for(let r=0;r<i.length;r+=1){let f=el(s,i,r),d=a(f);l.set(d,t[r]=il(d,f))}return{c(){e=c("div");for(let r=0;r<t.length;r+=1)t[r].c();o(e,"class","devices-list svelte-jbdjzi")},m(r,f){L(r,e,f);for(let d=0;d<t.length;d+=1)t[d]&&t[d].m(e,null)},p(r,f){f&6897&&(i=ue(r[0]),t=Te(t,f,a,1,r,i,l,e,Pe,il,null,el))},d(r){r&&T(e);for(let f=0;f<t.length;f+=1)t[f].d()}}}function Zs(s){let e;return{c(){e=c("p"),e.textContent="No devices found",o(e,"class","muted svelte-jbdjzi")},m(t,l){L(t,e,l)},p:ee,d(t){t&&T(e)}}}function $s(s){let e,t=(s[23].alias||"(no alias)")+"",l;return{c(){e=c("span"),l=A(t),o(e,"class","alias svelte-jbdjzi")},m(i,a){L(i,e,a),n(e,l)},p(i,a){a&1&&t!==(t=(i[23].alias||"(no alias)")+"")&&N(l,t)},d(i){i&&T(e)}}}function xs(s){let e,t,l;return{c(){e=c("input"),o(e,"type","text"),o(e,"placeholder","Enter device name"),o(e,"class","alias-input svelte-jbdjzi")},m(i,a){L(i,e,a),te(e,s[5]),t||(l=R(e,"input",s[15]),t=!0)},p(i,a){a&32&&e.value!==i[5]&&te(e,i[5])},d(i){i&&T(e),t=!1,l()}}}function sl(s){let e,t,l,i=s[23].vendor+"",a;return{c(){e=c("span"),e.textContent="‚Ä¢",t=b(),l=c("span"),a=A(i),o(e,"class","detail-sep svelte-jbdjzi"),o(l,"class","detail vendor svelte-jbdjzi")},m(r,f){L(r,e,f),L(r,t,f),L(r,l,f),n(l,a)},p(r,f){f&1&&i!==(i=r[23].vendor+"")&&N(a,i)},d(r){r&&(T(e),T(t),T(l))}}}function en(s){let e,t,l;function i(){return s[17](s[23])}return{c(){e=c("button"),e.textContent="‚úèÔ∏è Rename",o(e,"class","btn btn-small svelte-jbdjzi")},m(a,r){L(a,e,r),t||(l=R(e,"click",i),t=!0)},p(a,r){s=a},d(a){a&&T(e),t=!1,l()}}}function tn(s){let e,t,l,i,a;function r(){return s[16](s[23])}return{c(){e=c("button"),e.textContent="Save",t=b(),l=c("button"),l.textContent="Cancel",o(e,"class","btn btn-small btn-success svelte-jbdjzi"),o(l,"class","btn btn-small svelte-jbdjzi")},m(f,d){L(f,e,d),L(f,t,d),L(f,l,d),i||(a=[R(e,"click",r),R(l,"click",s[12])],i=!0)},p(f,d){s=f},d(f){f&&(T(e),T(t),T(l)),i=!1,me(a)}}}function nl(s){let e;return{c(){e=c("div"),e.textContent="üìå Static IP",o(e,"class","static-badge svelte-jbdjzi")},m(t,l){L(t,e,l)},d(t){t&&T(e)}}}function il(s,e){let t,l,i,a,r,f,d,u=e[23].ip+"",p,m,v,k,_,h=e[23].mac+"",g,w,q,y,S,j,C,z,P,M;function B(F,O){return F[4]===F[23].mac?xs:$s}let D=B(e),W=D(e),G=e[23].vendor&&sl(e);function H(F,O){return F[4]===F[23].mac?tn:en}let E=H(e),V=E(e);function U(){return e[18](e[23])}let J=e[23].is_static&&nl();return{key:s,first:null,c(){t=c("div"),l=c("div"),i=c("div"),a=c("div"),W.c(),r=b(),f=c("div"),d=c("span"),p=A(u),m=b(),v=c("span"),v.textContent="‚Ä¢",k=b(),_=c("span"),g=A(h),w=b(),G&&G.c(),q=b(),y=c("div"),V.c(),S=b(),j=c("button"),j.textContent="üîó Static IP",C=b(),J&&J.c(),z=b(),o(a,"class","device-name svelte-jbdjzi"),o(d,"class","detail svelte-jbdjzi"),o(v,"class","detail-sep svelte-jbdjzi"),o(_,"class","detail svelte-jbdjzi"),o(f,"class","device-details svelte-jbdjzi"),o(i,"class","device-info svelte-jbdjzi"),o(j,"class","btn btn-small svelte-jbdjzi"),o(y,"class","device-actions svelte-jbdjzi"),o(l,"class","device-header svelte-jbdjzi"),o(t,"class","device-card svelte-jbdjzi"),this.first=t},m(F,O){L(F,t,O),n(t,l),n(l,i),n(i,a),W.m(a,null),n(i,r),n(i,f),n(f,d),n(d,p),n(f,m),n(f,v),n(f,k),n(f,_),n(_,g),n(f,w),G&&G.m(f,null),n(l,q),n(l,y),V.m(y,null),n(y,S),n(y,j),n(t,C),J&&J.m(t,null),n(t,z),P||(M=R(j,"click",U),P=!0)},p(F,O){e=F,D===(D=B(e))&&W?W.p(e,O):(W.d(1),W=D(e),W&&(W.c(),W.m(a,null))),O&1&&u!==(u=e[23].ip+"")&&N(p,u),O&1&&h!==(h=e[23].mac+"")&&N(g,h),e[23].vendor?G?G.p(e,O):(G=sl(e),G.c(),G.m(f,null)):G&&(G.d(1),G=null),E===(E=H(e))&&V?V.p(e,O):(V.d(1),V=E(e),V&&(V.c(),V.m(y,S))),e[23].is_static?J||(J=nl(),J.c(),J.m(t,z)):J&&(J.d(1),J=null)},d(F){F&&T(t),W.d(),G&&G.d(),V.d(),J&&J.d(),P=!1,M()}}}function al(s){let e,t,l,i,a,r,f,d,u,p,m,v,k,_,h,g,w,q,y,S,j,C,z,P,M,B;return{c(){e=c("div"),t=c("div"),l=c("h3"),l.textContent="Assign Static IP",i=b(),a=c("div"),r=c("label"),r.textContent="MAC Address",f=b(),d=c("input"),p=b(),m=c("div"),v=c("label"),v.textContent="IP Address",k=b(),_=c("input"),h=b(),g=c("div"),w=c("label"),w.textContent="Hostname",q=b(),y=c("input"),S=b(),j=c("div"),C=c("button"),C.textContent="Assign",z=b(),P=c("button"),P.textContent="Cancel",o(l,"class","svelte-jbdjzi"),o(r,"class","svelte-jbdjzi"),o(d,"type","text"),d.value=u=s[7].mac,d.disabled=!0,o(d,"class","input-disabled svelte-jbdjzi"),o(a,"class","form-group svelte-jbdjzi"),o(v,"class","svelte-jbdjzi"),o(_,"type","text"),o(_,"placeholder","e.g., 192.168.100.50"),o(_,"class","svelte-jbdjzi"),o(m,"class","form-group svelte-jbdjzi"),o(w,"class","svelte-jbdjzi"),o(y,"type","text"),o(y,"placeholder","e.g., my-printer"),o(y,"class","svelte-jbdjzi"),o(g,"class","form-group svelte-jbdjzi"),o(C,"class","btn btn-primary svelte-jbdjzi"),o(P,"class","btn svelte-jbdjzi"),o(j,"class","modal-buttons svelte-jbdjzi"),o(t,"class","modal svelte-jbdjzi"),o(e,"class","modal-overlay svelte-jbdjzi")},m(D,W){L(D,e,W),n(e,t),n(t,l),n(t,i),n(t,a),n(a,r),n(a,f),n(a,d),n(t,p),n(t,m),n(m,v),n(m,k),n(m,_),te(_,s[7].ip),n(t,h),n(t,g),n(g,w),n(g,q),n(g,y),te(y,s[7].hostname),n(t,S),n(t,j),n(j,C),n(j,z),n(j,P),M||(B=[R(_,"input",s[19]),R(y,"input",s[20]),R(C,"click",s[10]),R(P,"click",s[21]),R(t,"click",Pl(s[14])),R(e,"click",s[22])],M=!0)},p(D,W){W&128&&u!==(u=D[7].mac)&&d.value!==u&&(d.value=u),W&128&&_.value!==D[7].ip&&te(_,D[7].ip),W&128&&y.value!==D[7].hostname&&te(y,D[7].hostname)},d(D){D&&T(e),M=!1,me(B)}}}function ln(s){let e,t,l,i,a,r=s[1]?"‚è≥ Loading...":"üîÑ Refresh",f,d,u,p,m,v,k,_,h=s[2]&&tl(s),g=s[3]&&ll(s);function w(j,C){return j[0].length===0?Zs:Qs}let q=w(s),y=q(s),S=s[6]&&al(s);return{c(){e=c("div"),t=c("div"),l=c("h2"),l.textContent="Device Management",i=b(),a=c("button"),f=A(r),d=b(),h&&h.c(),u=b(),g&&g.c(),p=b(),m=c("div"),y.c(),v=b(),S&&S.c(),o(l,"class","svelte-jbdjzi"),o(a,"class","btn btn-primary svelte-jbdjzi"),a.disabled=s[1],o(t,"class","panel-header svelte-jbdjzi"),o(m,"class","content svelte-jbdjzi"),o(e,"class","device-panel svelte-jbdjzi")},m(j,C){L(j,e,C),n(e,t),n(t,l),n(t,i),n(t,a),n(a,f),n(e,d),h&&h.m(e,null),n(e,u),g&&g.m(e,null),n(e,p),n(e,m),y.m(m,null),n(e,v),S&&S.m(e,null),k||(_=R(a,"click",s[8]),k=!0)},p(j,[C]){C&2&&r!==(r=j[1]?"‚è≥ Loading...":"üîÑ Refresh")&&N(f,r),C&2&&(a.disabled=j[1]),j[2]?h?h.p(j,C):(h=tl(j),h.c(),h.m(e,u)):h&&(h.d(1),h=null),j[3]?g?g.p(j,C):(g=ll(j),g.c(),g.m(e,p)):g&&(g.d(1),g=null),q===(q=w(j))&&y?y.p(j,C):(y.d(1),y=q(j),y&&(y.c(),y.m(m,null))),j[6]?S?S.p(j,C):(S=al(j),S.c(),S.m(e,null)):S&&(S.d(1),S=null)},i:ee,o:ee,d(j){j&&T(e),h&&h.d(),g&&g.d(),y.d(),S&&S.d(),k=!1,_()}}}function sn(s,e,t){let{token:l}=e,i=[],a=!1,r="",f="",d="",u="",p=!1,m={mac:"",ip:"",hostname:""};async function v(){t(1,a=!0),t(2,r="");try{const D=await(await fetch("/api/devices",{headers:{Authorization:`Bearer ${l}`}})).json();D.success?t(0,i=D.data||[]):t(2,r=D.error||"Failed to load devices")}catch(B){t(2,r=B.message)}finally{t(1,a=!1)}}async function k(B,D){if(D.trim())try{const G=await(await fetch(`/api/devices/${B}/alias`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${l}`},body:JSON.stringify({alias:D})})).json();G.success?(t(3,f=`‚úì Renamed to "${D}"`),t(4,d=""),t(5,u=""),await v(),setTimeout(()=>t(3,f=""),2e3)):t(2,r=G.error||"Failed to set alias")}catch(W){t(2,r=W.message)}}async function _(){if(!m.mac||!m.ip||!m.hostname){t(2,r="Please fill all fields");return}try{const D=await(await fetch("/api/dhcp/static",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${l}`},body:JSON.stringify(m)})).json();D.success?(t(3,f=`‚úì Static IP assigned: ${m.ip}`),t(6,p=!1),t(7,m={mac:"",ip:"",hostname:""}),await v(),setTimeout(()=>t(3,f=""),3e3)):t(2,r=D.error||"Failed to set static IP")}catch(B){t(2,r=B.message)}}function h(B,D){t(4,d=B),t(5,u=D||"")}function g(){t(4,d=""),t(5,u="")}Ae(()=>{v()});function w(B){Ll.call(this,s,B)}function q(){u=this.value,t(5,u)}const y=B=>k(B.mac,u),S=B=>h(B.mac,B.alias),j=B=>{t(7,m.mac=B.mac,m),t(7,m.hostname=B.alias||B.hostname,m),t(6,p=!0)};function C(){m.ip=this.value,t(7,m)}function z(){m.hostname=this.value,t(7,m)}const P=()=>t(6,p=!1),M=()=>t(6,p=!1);return s.$$set=B=>{"token"in B&&t(13,l=B.token)},[i,a,r,f,d,u,p,m,v,k,_,h,g,l,w,q,y,S,j,C,z,P,M]}class nn extends Ce{constructor(e){super(),ye(this,e,sn,ln,ge,{token:13})}}function ol(s,e,t){const l=s.slice();return l[5]=e[t],l}function rl(s){let e,t;return{c(){e=c("div"),t=A(s[2]),o(e,"class","error-message svelte-1uov6iy")},m(l,i){L(l,e,i),n(e,t)},p(l,i){i&4&&N(t,l[2])},d(l){l&&T(e)}}}function an(s){let e,t=[],l=new Map,i=ue(s[0]);const a=r=>r[5].device_mac;for(let r=0;r<i.length;r+=1){let f=ol(s,i,r),d=a(f);l.set(d,t[r]=cl(d,f))}return{c(){e=c("div");for(let r=0;r<t.length;r+=1)t[r].c();o(e,"class","bandwidth-list svelte-1uov6iy")},m(r,f){L(r,e,f);for(let d=0;d<t.length;d+=1)t[d]&&t[d].m(e,null)},p(r,f){f&1&&(i=ue(r[0]),t=Te(t,f,a,1,r,i,l,e,Pe,cl,null,ol))},d(r){r&&T(e);for(let f=0;f<t.length;f+=1)t[f].d()}}}function on(s){let e;return{c(){e=c("p"),e.textContent="No bandwidth data available. Try refreshing or check if iptables is installed.",o(e,"class","muted svelte-1uov6iy")},m(t,l){L(t,e,l)},p:ee,d(t){t&&T(e)}}}function rn(s){let e;return{c(){e=c("p"),e.textContent="Loading bandwidth data...",o(e,"class","muted svelte-1uov6iy")},m(t,l){L(t,e,l)},p:ee,d(t){t&&T(e)}}}function cl(s,e){let t,l,i,a=(e[5].device_name||e[5].ip)+"",r,f,d,u=e[5].device_mac+"",p,m,v,k,_,h,g,w=Ie(e[5].bytes_sent)+"",q,y,S,j,C,z,P=Ie(e[5].bytes_recv)+"",M,B,D,W,G,H,E=Ie(e[5].bytes_sent+e[5].bytes_recv)+"",V,U,J,F,O,X=e[5].packets_sent+"",K,I,$=e[5].packets_recv+"",Y,oe;return{key:s,first:null,c(){t=c("div"),l=c("div"),i=c("div"),r=A(a),f=b(),d=c("div"),p=A(u),m=b(),v=c("div"),k=c("div"),_=c("span"),_.textContent="Sent",h=b(),g=c("span"),q=A(w),y=b(),S=c("div"),j=c("span"),j.textContent="Received",C=b(),z=c("span"),M=A(P),B=b(),D=c("div"),W=c("span"),W.textContent="Total",G=b(),H=c("span"),V=A(E),U=b(),J=c("div"),F=c("div"),O=A("‚Üë "),K=A(X),I=A(" ‚Üì "),Y=A($),oe=b(),o(i,"class","device-name svelte-1uov6iy"),o(d,"class","device-mac svelte-1uov6iy"),o(l,"class","device-col svelte-1uov6iy"),o(_,"class","label svelte-1uov6iy"),o(g,"class","value svelte-1uov6iy"),o(k,"class","stat svelte-1uov6iy"),o(j,"class","label svelte-1uov6iy"),o(z,"class","value svelte-1uov6iy"),o(S,"class","stat svelte-1uov6iy"),o(W,"class","label svelte-1uov6iy"),o(H,"class","value svelte-1uov6iy"),o(D,"class","stat svelte-1uov6iy"),o(v,"class","stats-col svelte-1uov6iy"),o(F,"class","packets svelte-1uov6iy"),o(J,"class","packet-col svelte-1uov6iy"),o(t,"class","bandwidth-item svelte-1uov6iy"),this.first=t},m(fe,se){L(fe,t,se),n(t,l),n(l,i),n(i,r),n(l,f),n(l,d),n(d,p),n(t,m),n(t,v),n(v,k),n(k,_),n(k,h),n(k,g),n(g,q),n(v,y),n(v,S),n(S,j),n(S,C),n(S,z),n(z,M),n(v,B),n(v,D),n(D,W),n(D,G),n(D,H),n(H,V),n(t,U),n(t,J),n(J,F),n(F,O),n(F,K),n(F,I),n(F,Y),n(t,oe)},p(fe,se){e=fe,se&1&&a!==(a=(e[5].device_name||e[5].ip)+"")&&N(r,a),se&1&&u!==(u=e[5].device_mac+"")&&N(p,u),se&1&&w!==(w=Ie(e[5].bytes_sent)+"")&&N(q,w),se&1&&P!==(P=Ie(e[5].bytes_recv)+"")&&N(M,P),se&1&&E!==(E=Ie(e[5].bytes_sent+e[5].bytes_recv)+"")&&N(V,E),se&1&&X!==(X=e[5].packets_sent+"")&&N(K,X),se&1&&$!==($=e[5].packets_recv+"")&&N(Y,$)},d(fe){fe&&T(t)}}}function cn(s){let e,t,l,i,a,r=s[1]?"‚è≥ Loading...":"üîÑ Refresh",f,d,u,p,m,v=s[2]&&rl(s);function k(g,w){return g[1]?rn:g[0].length===0?on:an}let _=k(s),h=_(s);return{c(){e=c("div"),t=c("div"),l=c("h2"),l.textContent="üìä Bandwidth Usage",i=b(),a=c("button"),f=A(r),d=b(),v&&v.c(),u=b(),h.c(),o(l,"class","svelte-1uov6iy"),o(a,"class","btn btn-primary svelte-1uov6iy"),a.disabled=s[1],o(t,"class","panel-header svelte-1uov6iy"),o(e,"class","bandwidth-panel svelte-1uov6iy")},m(g,w){L(g,e,w),n(e,t),n(t,l),n(t,i),n(t,a),n(a,f),n(e,d),v&&v.m(e,null),n(e,u),h.m(e,null),p||(m=R(a,"click",s[3]),p=!0)},p(g,[w]){w&2&&r!==(r=g[1]?"‚è≥ Loading...":"üîÑ Refresh")&&N(f,r),w&2&&(a.disabled=g[1]),g[2]?v?v.p(g,w):(v=rl(g),v.c(),v.m(e,u)):v&&(v.d(1),v=null),_===(_=k(g))&&h?h.p(g,w):(h.d(1),h=_(g),h&&(h.c(),h.m(e,null)))},i:ee,o:ee,d(g){g&&T(e),v&&v.d(),h.d(),p=!1,m()}}}function Ie(s){if(s===0)return"0 B";const e=1024,t=["B","KB","MB","GB"],l=Math.floor(Math.log(s)/Math.log(e));return Math.round(s/Math.pow(e,l)*100)/100+" "+t[l]}function un(s,e,t){let{token:l}=e,i=[],a=!1,r="";async function f(){t(1,a=!0),t(2,r="");try{const u=await(await fetch("/api/network/bandwidth",{headers:{Authorization:`Bearer ${l}`}})).json();u.success?t(0,i=u.data||[]):t(2,r=u.error||"Failed to load bandwidth data")}catch(d){t(2,r=d.message)}finally{t(1,a=!1)}}return Ae(()=>{f()}),s.$$set=d=>{"token"in d&&t(4,l=d.token)},[i,a,r,f,l]}class fn extends Ce{constructor(e){super(),ye(this,e,un,cn,ge,{token:4})}}function ul(s){let e,t;return{c(){e=c("div"),t=A(s[2]),o(e,"class","error-message svelte-8cn1pn")},m(l,i){L(l,e,i),n(e,t)},p(l,i){i&4&&N(t,l[2])},d(l){l&&T(e)}}}function fl(s){let e,t;return{c(){e=c("div"),t=A(s[3]),o(e,"class","success-message svelte-8cn1pn")},m(l,i){L(l,e,i),n(e,t)},p(l,i){i&8&&N(t,l[3])},d(l){l&&T(e)}}}function dl(s){let e,t,l,i,a,r=s[1].download_mbps.toFixed(2)+"",f,d,u,p,m,v,k,_,h=s[1].upload_mbps.toFixed(2)+"",g,w,q,y,S,j,C,z,P=s[1].ping_ms.toFixed(1)+"",M,B,D,W,G,H,E,V,U=new Date(s[1].timestamp).toLocaleString()+"",J,F,O;return{c(){e=c("div"),t=c("div"),l=c("div"),l.textContent="Download",i=b(),a=c("div"),f=A(r),d=b(),u=c("div"),u.textContent="Mbps",p=b(),m=c("div"),v=c("div"),v.textContent="Upload",k=b(),_=c("div"),g=A(h),w=b(),q=c("div"),q.textContent="Mbps",y=b(),S=c("div"),j=c("div"),j.textContent="Ping",C=b(),z=c("div"),M=A(P),B=b(),D=c("div"),D.textContent="ms",W=b(),G=c("div"),H=c("div"),H.textContent="Timestamp",E=b(),V=c("div"),J=A(U),F=b(),O=c("div"),O.innerHTML=`<p class="svelte-8cn1pn">üí° <strong>Interpretation:</strong><br/>
          ‚Ä¢ Download: Speed to receive data (typical 10-100+ Mbps)<br/>
          ‚Ä¢ Upload: Speed to send data (typical 5-50 Mbps)<br/>
          ‚Ä¢ Ping: Latency (lower is better, ideal &lt;50ms)<br/> <br/>
          üí• Requires <code class="svelte-8cn1pn">speedtest-cli</code> installed. Install with:<br/> <code class="svelte-8cn1pn">sudo pip3 install speedtest-cli</code></p>`,o(l,"class","result-label svelte-8cn1pn"),o(a,"class","result-value svelte-8cn1pn"),o(u,"class","result-unit svelte-8cn1pn"),o(t,"class","result-card svelte-8cn1pn"),o(v,"class","result-label svelte-8cn1pn"),o(_,"class","result-value svelte-8cn1pn"),o(q,"class","result-unit svelte-8cn1pn"),o(m,"class","result-card svelte-8cn1pn"),o(j,"class","result-label svelte-8cn1pn"),o(z,"class","result-value svelte-8cn1pn"),o(D,"class","result-unit svelte-8cn1pn"),o(S,"class","result-card svelte-8cn1pn"),o(H,"class","result-label svelte-8cn1pn"),o(V,"class","result-timestamp svelte-8cn1pn"),o(G,"class","result-card svelte-8cn1pn"),o(e,"class","results svelte-8cn1pn"),o(O,"class","info-box svelte-8cn1pn")},m(X,K){L(X,e,K),n(e,t),n(t,l),n(t,i),n(t,a),n(a,f),n(t,d),n(t,u),n(e,p),n(e,m),n(m,v),n(m,k),n(m,_),n(_,g),n(m,w),n(m,q),n(e,y),n(e,S),n(S,j),n(S,C),n(S,z),n(z,M),n(S,B),n(S,D),n(e,W),n(e,G),n(G,H),n(G,E),n(G,V),n(V,J),L(X,F,K),L(X,O,K)},p(X,K){K&2&&r!==(r=X[1].download_mbps.toFixed(2)+"")&&N(f,r),K&2&&h!==(h=X[1].upload_mbps.toFixed(2)+"")&&N(g,h),K&2&&P!==(P=X[1].ping_ms.toFixed(1)+"")&&N(M,P),K&2&&U!==(U=new Date(X[1].timestamp).toLocaleString()+"")&&N(J,U)},d(X){X&&(T(e),T(F),T(O))}}}function dn(s){let e,t,l,i,a,r,f,d=s[0]?"üîÑ Testing... (30-60s)":"‚ö° Run Speed Test",u,p,m,v,k=s[2]&&ul(s),_=s[3]&&fl(s),h=s[1]&&dl(s);return{c(){e=c("div"),t=c("div"),t.innerHTML='<h2 class="svelte-8cn1pn">‚ö° Speed Test</h2>',l=b(),k&&k.c(),i=b(),_&&_.c(),a=b(),r=c("div"),f=c("button"),u=A(d),p=b(),h&&h.c(),o(t,"class","panel-header svelte-8cn1pn"),o(f,"class","btn btn-primary btn-large svelte-8cn1pn"),f.disabled=s[0],o(r,"class","content svelte-8cn1pn"),o(e,"class","speedtest-panel svelte-8cn1pn")},m(g,w){L(g,e,w),n(e,t),n(e,l),k&&k.m(e,null),n(e,i),_&&_.m(e,null),n(e,a),n(e,r),n(r,f),n(f,u),n(r,p),h&&h.m(r,null),m||(v=R(f,"click",s[4]),m=!0)},p(g,[w]){g[2]?k?k.p(g,w):(k=ul(g),k.c(),k.m(e,i)):k&&(k.d(1),k=null),g[3]?_?_.p(g,w):(_=fl(g),_.c(),_.m(e,a)):_&&(_.d(1),_=null),w&1&&d!==(d=g[0]?"üîÑ Testing... (30-60s)":"‚ö° Run Speed Test")&&N(u,d),w&1&&(f.disabled=g[0]),g[1]?h?h.p(g,w):(h=dl(g),h.c(),h.m(r,null)):h&&(h.d(1),h=null)},i:ee,o:ee,d(g){g&&T(e),k&&k.d(),_&&_.d(),h&&h.d(),m=!1,v()}}}function pn(s,e,t){let l=!1,i=null,a="",r="",{token:f}=e;async function d(){t(0,l=!0),t(2,a=""),t(3,r=""),t(1,i=null);try{const p=await(await fetch("/api/speedtest/run",{method:"POST",headers:{Authorization:`Bearer ${f}`}})).json();p.success?(t(1,i=p.data),t(3,r="‚úì Speed test completed"),setTimeout(()=>t(3,r=""),3e3)):t(2,a=p.error||"Speed test failed")}catch(u){t(2,a=u.message)}finally{t(0,l=!1)}}return s.$$set=u=>{"token"in u&&t(5,f=u.token)},[l,i,a,r,d,f]}class vn extends Ce{constructor(e){super(),ye(this,e,pn,dn,ge,{token:5})}}function pl(s,e,t){const l=s.slice();return l[13]=e[t],l}function vl(s){let e,t;return{c(){e=c("div"),t=A(s[3]),o(e,"class","error-message svelte-1ml2eu6")},m(l,i){L(l,e,i),n(e,t)},p(l,i){i&8&&N(t,l[3])},d(l){l&&T(e)}}}function hl(s){let e,t;return{c(){e=c("div"),t=A(s[4]),o(e,"class","success-message svelte-1ml2eu6")},m(l,i){L(l,e,i),n(e,t)},p(l,i){i&16&&N(t,l[4])},d(l){l&&T(e)}}}function hn(s){let e,t=[],l=new Map,i,a,r=s[2]?"‚è≥ Sending...":"üîå Wake Selected Device",f,d,u,p,m=ue(s[0]);const v=k=>k[13].mac;for(let k=0;k<m.length;k+=1){let _=pl(s,m,k),h=v(_);l.set(h,t[k]=ml(h,_))}return{c(){e=c("div");for(let k=0;k<t.length;k+=1)t[k].c();i=b(),a=c("button"),f=A(r),o(e,"class","device-selector svelte-1ml2eu6"),o(a,"class","btn btn-primary btn-wide svelte-1ml2eu6"),a.disabled=d=!s[1]||s[2]},m(k,_){L(k,e,_);for(let h=0;h<t.length;h+=1)t[h]&&t[h].m(e,null);L(k,i,_),L(k,a,_),n(a,f),u||(p=R(a,"click",s[10]),u=!0)},p(k,_){_&3&&(m=ue(k[0]),t=Te(t,_,v,1,k,m,l,e,Pe,ml,null,pl)),_&4&&r!==(r=k[2]?"‚è≥ Sending...":"üîå Wake Selected Device")&&N(f,r),_&6&&d!==(d=!k[1]||k[2])&&(a.disabled=d)},d(k){k&&(T(e),T(i),T(a));for(let _=0;_<t.length;_+=1)t[_].d();u=!1,p()}}}function mn(s){let e;return{c(){e=c("p"),e.textContent="No devices found. Make sure DHCP is active.",o(e,"class","muted svelte-1ml2eu6")},m(t,l){L(t,e,l)},p:ee,d(t){t&&T(e)}}}function ml(s,e){let t,l,i=(e[13].alias||e[13].hostname||"Unknown")+"",a,r,f,d=e[13].mac+"",u,p,m,v;function k(){return e[9](e[13])}return{key:s,first:null,c(){t=c("button"),l=c("div"),a=A(i),r=b(),f=c("div"),u=A(d),p=b(),o(l,"class","device-name svelte-1ml2eu6"),o(f,"class","device-mac svelte-1ml2eu6"),o(t,"class","device-btn svelte-1ml2eu6"),ne(t,"selected",e[1]===e[13].mac),this.first=t},m(_,h){L(_,t,h),n(t,l),n(l,a),n(t,r),n(t,f),n(f,u),n(t,p),m||(v=R(t,"click",k),m=!0)},p(_,h){e=_,h&1&&i!==(i=(e[13].alias||e[13].hostname||"Unknown")+"")&&N(a,i),h&1&&d!==(d=e[13].mac+"")&&N(u,d),h&3&&ne(t,"selected",e[1]===e[13].mac)},d(_){_&&T(t),m=!1,v()}}}function _n(s){let e,t,l,i,a,r,f,d,u,p,m,v,k,_,h,g,w,q,y,S,j,C,z,P,M=s[2]?"‚è≥ Sending...":"üîå Send Magic Packet",B,D,W,G,H,E,V=s[3]&&vl(s),U=s[4]&&hl(s);function J(X,K){return X[0].length===0?mn:hn}let F=J(s),O=F(s);return{c(){e=c("div"),t=c("div"),l=c("h2"),l.textContent="üîå Wake-on-LAN",i=b(),a=c("button"),a.textContent="‚Üª Refresh Devices",r=b(),V&&V.c(),f=b(),U&&U.c(),d=b(),u=c("div"),p=c("div"),m=c("h3"),m.textContent="From Device List",v=b(),O.c(),k=b(),_=c("div"),_.textContent="OR",h=b(),g=c("div"),w=c("h3"),w.textContent="Manual MAC Address",q=b(),y=c("div"),S=c("label"),S.textContent="MAC Address",j=b(),C=c("input"),z=b(),P=c("button"),B=A(M),W=b(),G=c("div"),G.innerHTML=`<p class="svelte-1ml2eu6"><strong>üí° How Wake-on-LAN works:</strong><br/>
        Sends a special &quot;magic packet&quot; to a device&#39;s MAC address, waking it up from sleep or
        standby mode.<br/> <br/> <strong>Requirements:</strong><br/>
        ‚Ä¢ Device must support WoL (most modern computers/servers do)<br/>
        ‚Ä¢ WoL must be enabled in device BIOS/UEFI<br/>
        ‚Ä¢ Device must be plugged in and not powered off<br/>
        ‚Ä¢ Device on same network or broadcast address<br/> <br/> <strong>MAC Address Formats:</strong><br/> <code class="svelte-1ml2eu6">AA:BB:CC:DD:EE:FF</code> or <code class="svelte-1ml2eu6">AABBCCDDEEFF</code></p>`,o(l,"class","svelte-1ml2eu6"),o(a,"class","btn btn-primary svelte-1ml2eu6"),o(t,"class","panel-header svelte-1ml2eu6"),o(m,"class","svelte-1ml2eu6"),o(p,"class","section svelte-1ml2eu6"),o(_,"class","divider svelte-1ml2eu6"),o(w,"class","svelte-1ml2eu6"),o(S,"class","svelte-1ml2eu6"),o(C,"type","text"),o(C,"placeholder","AA:BB:CC:DD:EE:FF or AABBCCDDEEFF"),o(C,"class","mac-input svelte-1ml2eu6"),o(y,"class","form-group svelte-1ml2eu6"),o(P,"class","btn btn-primary btn-wide svelte-1ml2eu6"),P.disabled=D=!s[5]||s[2],o(g,"class","section svelte-1ml2eu6"),o(G,"class","info-box svelte-1ml2eu6"),o(u,"class","content svelte-1ml2eu6"),o(e,"class","wol-panel svelte-1ml2eu6")},m(X,K){L(X,e,K),n(e,t),n(t,l),n(t,i),n(t,a),n(e,r),V&&V.m(e,null),n(e,f),U&&U.m(e,null),n(e,d),n(e,u),n(u,p),n(p,m),n(p,v),O.m(p,null),n(u,k),n(u,_),n(u,h),n(u,g),n(g,w),n(g,q),n(g,y),n(y,S),n(y,j),n(y,C),te(C,s[5]),n(g,z),n(g,P),n(P,B),n(u,W),n(u,G),H||(E=[R(a,"click",s[6]),R(C,"input",s[11]),R(P,"click",s[12])],H=!0)},p(X,[K]){X[3]?V?V.p(X,K):(V=vl(X),V.c(),V.m(e,f)):V&&(V.d(1),V=null),X[4]?U?U.p(X,K):(U=hl(X),U.c(),U.m(e,d)):U&&(U.d(1),U=null),F===(F=J(X))&&O?O.p(X,K):(O.d(1),O=F(X),O&&(O.c(),O.m(p,null))),K&32&&C.value!==X[5]&&te(C,X[5]),K&4&&M!==(M=X[2]?"‚è≥ Sending...":"üîå Send Magic Packet")&&N(B,M),K&36&&D!==(D=!X[5]||X[2])&&(P.disabled=D)},i:ee,o:ee,d(X){X&&T(e),V&&V.d(),U&&U.d(),O.d(),H=!1,me(E)}}}function bn(s,e,t){let{token:l}=e,i=[],a="",r=!1,f="",d="",u="";async function p(){try{const w=await(await fetch("/api/devices",{headers:{Authorization:`Bearer ${l}`}})).json();w.success&&t(0,i=w.data||[])}catch(g){console.error("Failed to load devices:",g)}}async function m(g){if(!g){t(3,f="Please select or enter a MAC address");return}t(2,r=!0),t(3,f=""),t(4,d="");try{const q=await(await fetch(`/api/network/wake/${g}`,{method:"POST",headers:{Authorization:`Bearer ${l}`}})).json();q.success?(t(4,d=`‚úì Magic packet sent to ${g}`),t(1,a=""),t(5,u=""),setTimeout(()=>t(4,d=""),3e3)):t(3,f=q.error||"Failed to send magic packet")}catch(w){t(3,f=w.message)}finally{t(2,r=!1)}}Ae(()=>{p()});const v=g=>t(1,a=g.mac),k=()=>m(a);function _(){u=this.value,t(5,u)}const h=()=>m(u);return s.$$set=g=>{"token"in g&&t(8,l=g.token)},[i,a,r,f,d,u,p,m,l,v,k,_,h]}class gn extends Ce{constructor(e){super(),ye(this,e,bn,_n,ge,{token:8})}}function _l(s){let e,t;return e=new Ul({props:{token:s[0]}}),{c(){je(e.$$.fragment)},m(l,i){ke(e,l,i),t=!0},p(l,i){const a={};i&1&&(a.token=l[0]),e.$set(a)},i(l){t||(ce(e.$$.fragment,l),t=!0)},o(l){he(e.$$.fragment,l),t=!1},d(l){we(e,l)}}}function kn(s){let e,t;return e=new gn({props:{token:s[0]}}),{c(){je(e.$$.fragment)},m(l,i){ke(e,l,i),t=!0},p(l,i){const a={};i&1&&(a.token=l[0]),e.$set(a)},i(l){t||(ce(e.$$.fragment,l),t=!0)},o(l){he(e.$$.fragment,l),t=!1},d(l){we(e,l)}}}function wn(s){let e,t;return e=new vn({props:{token:s[0]}}),{c(){je(e.$$.fragment)},m(l,i){ke(e,l,i),t=!0},p(l,i){const a={};i&1&&(a.token=l[0]),e.$set(a)},i(l){t||(ce(e.$$.fragment,l),t=!0)},o(l){he(e.$$.fragment,l),t=!1},d(l){we(e,l)}}}function yn(s){let e,t;return e=new fn({props:{token:s[0]}}),{c(){je(e.$$.fragment)},m(l,i){ke(e,l,i),t=!0},p(l,i){const a={};i&1&&(a.token=l[0]),e.$set(a)},i(l){t||(ce(e.$$.fragment,l),t=!0)},o(l){he(e.$$.fragment,l),t=!1},d(l){we(e,l)}}}function Cn(s){let e,t;return e=new nn({props:{token:s[0]}}),{c(){je(e.$$.fragment)},m(l,i){ke(e,l,i),t=!0},p(l,i){const a={};i&1&&(a.token=l[0]),e.$set(a)},i(l){t||(ce(e.$$.fragment,l),t=!0)},o(l){he(e.$$.fragment,l),t=!1},d(l){we(e,l)}}}function jn(s){let e,t;return e=new Ys({props:{token:s[0]}}),{c(){je(e.$$.fragment)},m(l,i){ke(e,l,i),t=!0},p(l,i){const a={};i&1&&(a.token=l[0]),e.$set(a)},i(l){t||(ce(e.$$.fragment,l),t=!0)},o(l){he(e.$$.fragment,l),t=!1},d(l){we(e,l)}}}function Sn(s){let e,t;return e=new Gs({props:{token:s[0]}}),{c(){je(e.$$.fragment)},m(l,i){ke(e,l,i),t=!0},p(l,i){const a={};i&1&&(a.token=l[0]),e.$set(a)},i(l){t||(ce(e.$$.fragment,l),t=!0)},o(l){he(e.$$.fragment,l),t=!1},d(l){we(e,l)}}}function zn(s){let e,t;return e=new Is({props:{token:s[0]}}),{c(){je(e.$$.fragment)},m(l,i){ke(e,l,i),t=!0},p(l,i){const a={};i&1&&(a.token=l[0]),e.$set(a)},i(l){t||(ce(e.$$.fragment,l),t=!0)},o(l){he(e.$$.fragment,l),t=!1},d(l){we(e,l)}}}function qn(s){let e,t;return e=new Ts({props:{token:s[0]}}),{c(){je(e.$$.fragment)},m(l,i){ke(e,l,i),t=!0},p(l,i){const a={};i&1&&(a.token=l[0]),e.$set(a)},i(l){t||(ce(e.$$.fragment,l),t=!0)},o(l){he(e.$$.fragment,l),t=!1},d(l){we(e,l)}}}function Pn(s){let e,t;return e=new ys({props:{token:s[0]}}),e.$on("refresh",s[3]),{c(){je(e.$$.fragment)},m(l,i){ke(e,l,i),t=!0},p(l,i){const a={};i&1&&(a.token=l[0]),e.$set(a)},i(l){t||(ce(e.$$.fragment,l),t=!0)},o(l){he(e.$$.fragment,l),t=!1},d(l){we(e,l)}}}function Tn(s){let e,t;return e=new _s({props:{token:s[0]}}),e.$on("refresh",s[3]),{c(){je(e.$$.fragment)},m(l,i){ke(e,l,i),t=!0},p(l,i){const a={};i&1&&(a.token=l[0]),e.$set(a)},i(l){t||(ce(e.$$.fragment,l),t=!0)},o(l){he(e.$$.fragment,l),t=!1},d(l){we(e,l)}}}function An(s){let e,t;return e=new us({props:{token:s[0]}}),{c(){je(e.$$.fragment)},m(l,i){ke(e,l,i),t=!0},p(l,i){const a={};i&1&&(a.token=l[0]),e.$set(a)},i(l){t||(ce(e.$$.fragment,l),t=!0)},o(l){he(e.$$.fragment,l),t=!1},d(l){we(e,l)}}}function Ln(s){let e,t;return e=new as({props:{token:s[0]}}),e.$on("refresh",s[3]),{c(){je(e.$$.fragment)},m(l,i){ke(e,l,i),t=!0},p(l,i){const a={};i&1&&(a.token=l[0]),e.$set(a)},i(l){t||(ce(e.$$.fragment,l),t=!0)},o(l){he(e.$$.fragment,l),t=!1},d(l){we(e,l)}}}function Dn(s){let e,t;return e=new ts({props:{token:s[0]}}),e.$on("refresh",s[3]),{c(){je(e.$$.fragment)},m(l,i){ke(e,l,i),t=!0},p(l,i){const a={};i&1&&(a.token=l[0]),e.$set(a)},i(l){t||(ce(e.$$.fragment,l),t=!0)},o(l){he(e.$$.fragment,l),t=!1},d(l){we(e,l)}}}function Nn(s){let e,t;return e=new Ql({props:{token:s[0]}}),e.$on("refresh",s[3]),{c(){je(e.$$.fragment)},m(l,i){ke(e,l,i),t=!0},p(l,i){const a={};i&1&&(a.token=l[0]),e.$set(a)},i(l){t||(ce(e.$$.fragment,l),t=!0)},o(l){he(e.$$.fragment,l),t=!1},d(l){we(e,l)}}}function Rn(s){let e,t,l,i,a,r,f,d,u,p,m,v,k,_,h,g,w,q,y,S,j,C,z,P,M,B,D,W,G,H,E,V,U,J,F,O,X,K,I,$,Y,oe,fe,se=s[1]!=="logs"&&s[1]!=="history"&&s[1]!=="clients"&&s[1]!=="config"&&s[1]!=="devices"&&s[1]!=="bandwidth"&&s[1]!=="speedtest"&&s[1]!=="wol"&&_l(s);const de=[Nn,Dn,Ln,An,Tn,Pn,qn,zn,Sn,jn,Cn,yn,wn,kn],_e=[];function be(Z,ie){return Z[1]==="wifi"?0:Z[1]==="network"?1:Z[1]==="firewall"?2:Z[1]==="terminal"?3:Z[1]==="diagnostics"?4:Z[1]==="dhcp"?5:Z[1]==="logs"?6:Z[1]==="history"?7:Z[1]==="clients"?8:Z[1]==="config"?9:Z[1]==="devices"?10:Z[1]==="bandwidth"?11:Z[1]==="speedtest"?12:Z[1]==="wol"?13:-1}return~(I=be(s))&&($=_e[I]=de[I](s)),{c(){e=c("div"),t=c("header"),l=c("div"),l.innerHTML='<h1 class="title svelte-x9904r">üîå PiWifi</h1> <p class="subtitle svelte-x9904r">Raspberry Pi WiFi Router</p>',i=b(),a=c("div"),r=c("button"),r.textContent="Logout",f=b(),d=c("nav"),u=c("button"),u.textContent="üì∂ WiFi",p=b(),m=c("button"),m.textContent="üåê Network",v=b(),k=c("button"),k.textContent="üõ°Ô∏è Firewall",_=b(),h=c("button"),h.textContent="‚å®Ô∏è Terminal",g=b(),w=c("button"),w.textContent="üîç Diagnostics",q=b(),y=c("button"),y.textContent="üîß DHCP Config",S=b(),j=c("button"),j.textContent="üìã Logs",C=b(),z=c("button"),z.textContent="‚è±Ô∏è History",P=b(),M=c("button"),M.textContent="üñ•Ô∏è Clients",B=b(),D=c("button"),D.textContent="üíæ Config",W=b(),G=c("button"),G.textContent="üè∑Ô∏è Devices",H=b(),E=c("button"),E.textContent="üìä Bandwidth",V=b(),U=c("button"),U.textContent="‚ö° Speed Test",J=b(),F=c("button"),F.textContent="üîå Wake-on-LAN",O=b(),X=c("main"),se&&se.c(),K=b(),$&&$.c(),o(l,"class","header-left svelte-x9904r"),o(r,"class","btn-logout svelte-x9904r"),o(a,"class","header-right svelte-x9904r"),o(t,"class","header svelte-x9904r"),o(u,"class","tab svelte-x9904r"),ne(u,"active",s[1]==="wifi"),o(m,"class","tab svelte-x9904r"),ne(m,"active",s[1]==="network"),o(k,"class","tab svelte-x9904r"),ne(k,"active",s[1]==="firewall"),o(h,"class","tab svelte-x9904r"),ne(h,"active",s[1]==="terminal"),o(w,"class","tab svelte-x9904r"),ne(w,"active",s[1]==="diagnostics"),o(y,"class","tab svelte-x9904r"),ne(y,"active",s[1]==="dhcp"),o(j,"class","tab svelte-x9904r"),ne(j,"active",s[1]==="logs"),o(z,"class","tab svelte-x9904r"),ne(z,"active",s[1]==="history"),o(M,"class","tab svelte-x9904r"),ne(M,"active",s[1]==="clients"),o(D,"class","tab svelte-x9904r"),ne(D,"active",s[1]==="config"),o(G,"class","tab svelte-x9904r"),ne(G,"active",s[1]==="devices"),o(E,"class","tab svelte-x9904r"),ne(E,"active",s[1]==="bandwidth"),o(U,"class","tab svelte-x9904r"),ne(U,"active",s[1]==="speedtest"),o(F,"class","tab svelte-x9904r"),ne(F,"active",s[1]==="wol"),o(d,"class","tabs svelte-x9904r"),o(X,"class","content svelte-x9904r"),o(e,"class","dashboard svelte-x9904r")},m(Z,ie){L(Z,e,ie),n(e,t),n(t,l),n(t,i),n(t,a),n(a,r),n(e,f),n(e,d),n(d,u),n(d,p),n(d,m),n(d,v),n(d,k),n(d,_),n(d,h),n(d,g),n(d,w),n(d,q),n(d,y),n(d,S),n(d,j),n(d,C),n(d,z),n(d,P),n(d,M),n(d,B),n(d,D),n(d,W),n(d,G),n(d,H),n(d,E),n(d,V),n(d,U),n(d,J),n(d,F),n(e,O),n(e,X),se&&se.m(X,null),n(X,K),~I&&_e[I].m(X,null),Y=!0,oe||(fe=[R(r,"click",s[2]),R(u,"click",s[4]),R(m,"click",s[5]),R(k,"click",s[6]),R(h,"click",s[7]),R(w,"click",s[8]),R(y,"click",s[9]),R(j,"click",s[10]),R(z,"click",s[11]),R(M,"click",s[12]),R(D,"click",s[13]),R(G,"click",s[14]),R(E,"click",s[15]),R(U,"click",s[16]),R(F,"click",s[17])],oe=!0)},p(Z,[ie]){(!Y||ie&2)&&ne(u,"active",Z[1]==="wifi"),(!Y||ie&2)&&ne(m,"active",Z[1]==="network"),(!Y||ie&2)&&ne(k,"active",Z[1]==="firewall"),(!Y||ie&2)&&ne(h,"active",Z[1]==="terminal"),(!Y||ie&2)&&ne(w,"active",Z[1]==="diagnostics"),(!Y||ie&2)&&ne(y,"active",Z[1]==="dhcp"),(!Y||ie&2)&&ne(j,"active",Z[1]==="logs"),(!Y||ie&2)&&ne(z,"active",Z[1]==="history"),(!Y||ie&2)&&ne(M,"active",Z[1]==="clients"),(!Y||ie&2)&&ne(D,"active",Z[1]==="config"),(!Y||ie&2)&&ne(G,"active",Z[1]==="devices"),(!Y||ie&2)&&ne(E,"active",Z[1]==="bandwidth"),(!Y||ie&2)&&ne(U,"active",Z[1]==="speedtest"),(!Y||ie&2)&&ne(F,"active",Z[1]==="wol"),Z[1]!=="logs"&&Z[1]!=="history"&&Z[1]!=="clients"&&Z[1]!=="config"&&Z[1]!=="devices"&&Z[1]!=="bandwidth"&&Z[1]!=="speedtest"&&Z[1]!=="wol"?se?(se.p(Z,ie),ie&2&&ce(se,1)):(se=_l(Z),se.c(),ce(se,1),se.m(X,K)):se&&(xe(),he(se,1,1,()=>{se=null}),et());let ve=I;I=be(Z),I===ve?~I&&_e[I].p(Z,ie):($&&(xe(),he(_e[ve],1,1,()=>{_e[ve]=null}),et()),~I?($=_e[I],$?$.p(Z,ie):($=_e[I]=de[I](Z),$.c()),ce($,1),$.m(X,null)):$=null)},i(Z){Y||(ce(se),ce($),Y=!0)},o(Z){he(se),he($),Y=!1},d(Z){Z&&T(e),se&&se.d(),~I&&_e[I].d(),oe=!1,me(fe)}}}function Mn(s,e,t){const l=We();let{token:i}=e,a="wifi",r={uptime:"",cpu_temp:0,ram_usage:0,disk_usage:0};function f(){l("logout")}async function d(){try{const P=await fetch("/api/system/status",{headers:{Authorization:`Bearer ${i}`}});P.ok&&(r=(await P.json()).data)}catch(P){console.error("Failed to load system status:",P)}}function u(){d()}const p=()=>t(1,a="wifi"),m=()=>t(1,a="network"),v=()=>t(1,a="firewall"),k=()=>t(1,a="terminal"),_=()=>t(1,a="diagnostics"),h=()=>t(1,a="dhcp"),g=()=>t(1,a="logs"),w=()=>t(1,a="history"),q=()=>t(1,a="clients"),y=()=>t(1,a="config"),S=()=>t(1,a="devices"),j=()=>t(1,a="bandwidth"),C=()=>t(1,a="speedtest"),z=()=>t(1,a="wol");return s.$$set=P=>{"token"in P&&t(0,i=P.token)},[i,a,f,u,p,m,v,k,_,h,g,w,q,y,S,j,C,z]}class Bn extends Ce{constructor(e){super(),ye(this,e,Mn,Rn,ge,{token:0})}}function Fn(s){let e,t;return e=new Ol({}),e.$on("login",s[2]),{c(){je(e.$$.fragment)},m(l,i){ke(e,l,i),t=!0},p:ee,i(l){t||(ce(e.$$.fragment,l),t=!0)},o(l){he(e.$$.fragment,l),t=!1},d(l){we(e,l)}}}function In(s){let e,t;return e=new Bn({props:{token:s[1]}}),e.$on("logout",s[3]),{c(){je(e.$$.fragment)},m(l,i){ke(e,l,i),t=!0},p(l,i){const a={};i&2&&(a.token=l[1]),e.$set(a)},i(l){t||(ce(e.$$.fragment,l),t=!0)},o(l){he(e.$$.fragment,l),t=!1},d(l){we(e,l)}}}function En(s){let e,t,l,i;const a=[In,Fn],r=[];function f(d,u){return d[0]?0:1}return t=f(s),l=r[t]=a[t](s),{c(){e=c("div"),l.c(),o(e,"class","app svelte-1k2nppx")},m(d,u){L(d,e,u),r[t].m(e,null),i=!0},p(d,[u]){let p=t;t=f(d),t===p?r[t].p(d,u):(xe(),he(r[p],1,1,()=>{r[p]=null}),et(),l=r[t],l?l.p(d,u):(l=r[t]=a[t](d),l.c()),ce(l,1),l.m(e,null))},i(d){i||(ce(l),i=!0)},o(d){he(l),i=!1},d(d){d&&T(e),r[t].d()}}}function On(s,e,t){let l=!1,i="";Ae(()=>{const d=localStorage.getItem("auth_token");d&&(t(1,i=d),a())});async function a(){try{(await fetch("/api/auth/verify",{headers:{Authorization:`Bearer ${i}`}})).ok?t(0,l=!0):f()}catch{f()}}function r(d){t(1,i=d.detail.token),localStorage.setItem("auth_token",i),t(0,l=!0)}function f(){t(0,l=!1),t(1,i=""),localStorage.removeItem("auth_token")}return[l,i,r,f]}class Hn extends Ce{constructor(e){super(),ye(this,e,On,En,ge,{})}}new Hn({target:document.getElementById("app")});
